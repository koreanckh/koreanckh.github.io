{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/spring-002-swagger-openapi/",
    "result": {"data":{"cur":{"id":"0669127e-a530-58db-9cb7-877b0ea60a17","html":"<h1 id=\"1-openapi는-무엇인가\" style=\"position:relative;\"><a href=\"#1-openapi%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\" aria-label=\"1 openapi는 무엇인가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. OpenAPI는 무엇인가?</h1>\n<p>OpenAPI는 REST api 포맷의 api 명세서이다. OpenAPI 파일을 사용하면</p>","excerpt":"1. OpenAPI는 무엇인가? OpenAPI는 REST api 포맷의 api 명세서이다. OpenAPI 파일을 사용하면","frontmatter":{"date":"September 20, 2022","title":"Swagger 3 + OpenAPI 로 api 문서 관리하기","categories":"Spring","author":"막걸리에 감자전","emoji":"💻"},"fields":{"slug":"/spring-002-swagger-openapi/"}},"next":{"id":"d7513549-56f6-5a51-8036-938e48df2f9c","html":"<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> a<span class=\"token punctuation\">.</span>table_name       <span class=\"token keyword\">AS</span> <span class=\"token string\">'table_name'</span><span class=\"token punctuation\">,</span>\n       b<span class=\"token punctuation\">.</span>table_comment    <span class=\"token keyword\">AS</span> <span class=\"token string\">'table_comment'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>ordinal_position <span class=\"token keyword\">AS</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_name      <span class=\"token keyword\">AS</span> <span class=\"token string\">'column_name'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_comment   <span class=\"token keyword\">AS</span> <span class=\"token string\">'column_comment'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_type      <span class=\"token keyword\">AS</span> <span class=\"token string\">'type'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_key       <span class=\"token keyword\">AS</span> <span class=\"token string\">'KEY'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>is_nullable      <span class=\"token keyword\">AS</span> <span class=\"token string\">'NULL'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>extra            <span class=\"token keyword\">AS</span> <span class=\"token string\">'auto'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_default      <span class=\"token string\">'default'</span>\n<span class=\"token keyword\">FROM</span> information_schema<span class=\"token punctuation\">.</span><span class=\"token keyword\">columns</span> a\n         <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> information_schema<span class=\"token punctuation\">.</span><span class=\"token keyword\">tables</span> b <span class=\"token keyword\">ON</span> a<span class=\"token punctuation\">.</span>table_name <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>table_name <span class=\"token operator\">AND</span> a<span class=\"token punctuation\">.</span>table_catalog <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>table_catalog <span class=\"token operator\">AND</span> a<span class=\"token punctuation\">.</span>table_schema <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>table_schema\n<span class=\"token keyword\">WHERE</span> a<span class=\"token punctuation\">.</span>table_schema <span class=\"token operator\">=</span> <span class=\"token string\">'eco'</span>\n<span class=\"token comment\">-- AND TABLE_NAME IN ('테이블명','테이블명','테이블명')</span>\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> a<span class=\"token punctuation\">.</span>table_name<span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>ordinal_position</code></pre></div>\n<p>INFORMATION_SCHEMA는 MySQL에서 제공하는 DB 관련 정보들을 저장하고 있는 데이터베이스이다.<br>\n스키마 별로 조회도 가능하고, 특정 테이블에 대해서만도 조회가 가능하다.</p>\n<ul>\n<li>참고</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">use</span> information_schema<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">show</span> <span class=\"token keyword\">TABLES</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이와 같이 information_schema 데이터베이스의 테이블들을 조회해보면 많은 정보들이 들어있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ALL_PLUGINS\nAPPLICABLE_ROLES\nCHARACTER_SETS\nCHECK_CONSTRAINTS\nCOLLATIONS\nCOLLATION_CHARACTER_SET_APPLICABILITY\nCOLUMNS\nCOLUMN_PRIVILEGES\nENABLED_ROLES\nENGINES\nEVENTS\nFILES\nGLOBAL_STATUS\nGLOBAL_VARIABLES\nKEYWORDS\nKEY_CACHES\nKEY_COLUMN_USAGE\nOPTIMIZER_TRACE\nPARAMETERS\nPARTITIONS\nPLUGINS\nPROCESSLIST\nPROFILING\nREFERENTIAL_CONSTRAINTS\nROUTINES\nSCHEMATA\nSCHEMA_PRIVILEGES\nSESSION_STATUS\nSESSION_VARIABLES\nSTATISTICS\nSQL_FUNCTIONS\nSYSTEM_VARIABLES\nTABLES\nTABLESPACES\nTABLE_CONSTRAINTS\nTABLE_PRIVILEGES\nTRIGGERS\nUSER_PRIVILEGES\nVIEWS\nCLIENT_STATISTICS\nINDEX_STATISTICS\nINNODB_SYS_DATAFILES\nGEOMETRY_COLUMNS\nINNODB_SYS_TABLESTATS\nSPATIAL_REF_SYS\nINNODB_BUFFER_PAGE\nINNODB_TRX\nINNODB_CMP_PER_INDEX\nINNODB_METRICS\nINNODB_LOCK_WAITS\nINNODB_CMP\nTHREAD_POOL_WAITS\nINNODB_CMP_RESET\nTHREAD_POOL_QUEUES\nTABLE_STATISTICS\nINNODB_SYS_FIELDS\nINNODB_BUFFER_PAGE_LRU\nINNODB_LOCKS\nINNODB_FT_INDEX_TABLE\nINNODB_CMPMEM\nTHREAD_POOL_GROUPS\nINNODB_CMP_PER_INDEX_RESET\nINNODB_SYS_FOREIGN_COLS\nINNODB_FT_INDEX_CACHE\nINNODB_BUFFER_POOL_STATS\nINNODB_FT_BEING_DELETED\nINNODB_SYS_FOREIGN\nINNODB_CMPMEM_RESET\nINNODB_FT_DEFAULT_STOPWORD\nINNODB_SYS_TABLES\nINNODB_SYS_COLUMNS\nINNODB_FT_CONFIG\nUSER_STATISTICS\nINNODB_SYS_TABLESPACES\nINNODB_SYS_VIRTUAL\nINNODB_SYS_INDEXES\nINNODB_SYS_SEMAPHORE_WAITS\nINNODB_MUTEXES\nuser_variables\nINNODB_TABLESPACES_ENCRYPTION\nINNODB_FT_DELETED\nTHREAD_POOL_STATS</code></pre></div>\n<p>나중에 다른 필요한 정보가 있을때 그때 다시 알아보도록 하자…</p>","frontmatter":{"date":"September 14, 2022","title":"MySQL 스카마 내 전체 테이블 목록 및 컬럼 정보 조회.","categories":"Sql Mysql","author":"막걸리에 감자전","emoji":"💻"},"fields":{"slug":"/sql-001/"}},"prev":{"id":"2695cba2-0c52-54b6-bb86-7729d0a3de41","html":"<h1 id=\"1-mybatis--dto-매핑시-문제\" style=\"position:relative;\"><a href=\"#1-mybatis--dto-%EB%A7%A4%ED%95%91%EC%8B%9C-%EB%AC%B8%EC%A0%9C\" aria-label=\"1 mybatis  dto 매핑시 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Mybatis + DTO 매핑시 문제</h1>\n<p>JPA공부를 하며 사이드 프로젝트를 하려고 하고 있었는데, 급하게 시간을 맞춰야 하는 일정이 생겨서 JPA로 작업하던 것을 놔두고 급하게 Mybatis로 개발을 시작했다. 문제없이 작업을 하고 있었는데 갑자기 Mybatis에서 <code class=\"language-text\">resultType='**Dto'</code>로 하면서 매핑이 제대로 되지 않는 문제가 생겼다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javas\"><pre class=\"language-javas\"><code class=\"language-javas\">@Data\n@Builder\npublic class PerformanceDto {\n\n\tprivate int idx;\n\tprivate String name;\n\tprivate String genreCode;\n\tprivate String statusCode;\n\t\n\t이하 기타 ...\n}</code></pre></div>\n<p>처음에는 에러가 발생한게 아니라 매핑이 꼬인것처럼 원하는 데이터가 dto 파라미터와 제대로 매핑이 되지 않았었다.</p>\n<p>이상하다 싶어서 <code class=\"language-text\">select name from table</code>로 컬럼 하나만 호출 해봤더니 <code class=\"language-text\">DataIntegrityViolationException 'name' cannot be decoded as Integer</code> 또는 <code class=\"language-text\">IndexOutOfBoundsException</code> 라며 에러가 떴다.</p>\n<p>그래서 Dto에 타입 설정을 잘못 했나 싶어서 봤더니 String으로 했음에도 Integer로 디코딩에 실패했다는 에러가 자꾸 발생하였다..</p>\n<h1 id=\"2-원인-해결\" style=\"position:relative;\"><a href=\"#2-%EC%9B%90%EC%9D%B8-%ED%95%B4%EA%B2%B0\" aria-label=\"2 원인 해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 원인? 해결?</h1>\n<p>문제는 <code class=\"language-text\">@Builder</code>때문이었다!\n@Builder를 선언해주게 되면 Dto의 기본 생성자가 사라지게 된다고 한다.\n따라서 명시적으로 기본생성자를 만들어주거나 <code class=\"language-text\">@NoArgsConstructor</code>나 <code class=\"language-text\">@AllArgsConstructor</code> 어노테이션을 붙여주니 정상적으로 이용할 수 있게 되었다.<br>\n급한 마음에 어노테이션을 일단 마구 가져다 썼는데, 공식문서를 한번쯤은 읽어보고 사용해야겠다!</p>\n<p>그럼 이제 얼른 마저 만들러 가야겠다…</p>","frontmatter":{"date":"September 20, 2022","title":"Mybatis + DTO 매핑이 꼬이고 자꾸 에러 나는 문제(@Builder 사용중 에러..)","categories":"Spring","author":"막걸리에 감자전","emoji":"💻"},"fields":{"slug":"/spring-003-mybatis-error/"}},"site":{"siteMetadata":{"siteUrl":"https://koreanckh.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/spring-002-swagger-openapi/","nextSlug":"/sql-001/","prevSlug":"/spring-003-mybatis-error/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}