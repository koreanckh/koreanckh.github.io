{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/aws-002-github-action-with-codedeploy/",
    "result": {"data":{"cur":{"id":"6a799182-8fb3-59b4-97e1-d6b5b65d82a5","html":"<h1 id=\"0-ì „ì²´ì ì¸-íë¦„\" style=\"position:relative;\"><a href=\"#0-%EC%A0%84%EC%B2%B4%EC%A0%81%EC%9D%B8-%ED%9D%90%EB%A6%84\" aria-label=\"0 ì „ì²´ì ì¸ íë¦„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0. ì „ì²´ì ì¸ íë¦„</h1>\n<blockquote>\n<ol>\n<li>Github Action ì„¤ì •ì„ í†µí•´ ë¹Œë“œ íŒŒì¼ì„ S3ì— ì—…ë¡œë“œ í•˜ê³ , CodeDeploy ë¥¼ ì‹¤í–‰í•¨.</li>\n<li>CodeDeploy ì—ì„œ EC2ì— ë°°í¬ ì‹¤í–‰í•˜ë„ë¡ ëª…ë ¹.</li>\n<li>1ë‹¨ê³„ì—ì„œ S3ì— ì˜¬ë ¤ë‘” í•„ë“œ íŒŒì¼ì„ EC2ì—ì„œ ê°€ì ¸ì™€ ì˜ˆì•½ëœ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰.</li>\n</ol>\n</blockquote>\n<h1 id=\"1-s3-ë§Œë“¤ê¸°\" style=\"position:relative;\"><a href=\"#1-s3-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"1 s3 ë§Œë“¤ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. S3 ë§Œë“¤ê¸°</h1>\n<p>Github Actionìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ë¹Œë“œ ì••ì¶•íŒŒì¼ì„ ì—…ë¡œë“œ í•  S3íŒŒì¼ì„ ë§Œë“¤ì–´ì£¼ì.<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbklEQVR42p3S207DMAwG4L7/Y3EBuxggNMRAXc/d2qXn9Ny0/XEymFS2SUCkT46qyLHjao9Pz3hYrbB528JnCbIsQ0qygiMlMvKy/DXNMAzouo6dYcK0HdiOA9f1sGcpnDCBR5HzAkXxg/zG+QUtTFJkZYV+mtCNo9IKSSjNcMuApm3PWlJWFTT3/g7x6wtG34JwTQjvm3XT6BoQ4R6CLhdiIEKpmwZa7tpoqxJz3y1gsW/PZjK2DWZbxwxgnmdFLlmlVngO2PGIjDEUSQyeJCrmcaT2PKUnyWhA5BgXKHmFiRJO5rtKskjYddCO6xXK3Qe1bCsTkW0N1P7gnlrvPVtpHAsdRextzIF3WaFMmFU1wjgBk78LLxHlBaqux0QHBBmvqGkoE3C9QhZF8A8H+L6PiEUIDgEETRDyIE3+momGofZfyRZvuLE8rLc7GAFDU9fo+x7/XacK6ZFDevC8oenRzT1V11HSv5KFVFTQJ6GkTjcMmINaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-002-3.png\"\n        title=\"aws-002-3.png\"\n        src=\"/static/9e81f97cd228424119afbdf72508ffdc/37523/aws-002-3.png\"\n        srcset=\"/static/9e81f97cd228424119afbdf72508ffdc/e9ff0/aws-002-3.png 180w,\n/static/9e81f97cd228424119afbdf72508ffdc/f21e7/aws-002-3.png 360w,\n/static/9e81f97cd228424119afbdf72508ffdc/37523/aws-002-3.png 720w,\n/static/9e81f97cd228424119afbdf72508ffdc/302a4/aws-002-3.png 1080w,\n/static/9e81f97cd228424119afbdf72508ffdc/07a9c/aws-002-3.png 1440w,\n/static/9e81f97cd228424119afbdf72508ffdc/81315/aws-002-3.png 1656w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\në‹¤ë¥¸ ì„¤ì •ë“¤ì€ ê¸°ë³¸ ì˜µì…˜ìœ¼ë¡œ ë‘ê³  <code class=\"language-text\">ë²„í‚· ì´ë¦„</code>ë§Œ í™•ì¸í•´ë‘ì. Github Action ì„¤ì • ymlíŒŒì¼ì— ì—…ë¡œë“œí•  S3 ë²„í‚· ì´ë¦„ì„ ì„¸íŒ…í•´ì¤˜ì•¼ í•œë‹¤.</p>\n<h1 id=\"2-aws-ec2-ì„œë²„ì—-codedeploy-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#2-aws-ec2-%EC%84%9C%EB%B2%84%EC%97%90-codedeploy-%EC%84%A4%EC%B9%98\" aria-label=\"2 aws ec2 ì„œë²„ì— codedeploy ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. AWS EC2 ì„œë²„ì— CodeDeploy ì„¤ì¹˜</h1>\n<ol>\n<li>CodeDeploy ì„¤ì¹˜ì‹œ í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum update\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> ruby\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token function\">wget</span></code></pre></div>\n<ol start=\"2\">\n<li>ì´ì „ ì—ì´ì „íŠ¸ ìºì‹± ì •ë³´ì˜ AMIë¥¼ ì •ë¦¬</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token assign-left variable\">CODEDEPLOY_BIN</span><span class=\"token operator\">=</span><span class=\"token string\">\"/opt/codedeploy-agent/bin/codedeploy-agent\"</span>\n<span class=\"token variable\">$CODEDEPLOY_BIN</span> stop\nyum erase codedeploy-agent -y</code></pre></div>\n<p>ì„ì‹œ shell íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ì‹¤í–‰í•´ì£¼ì.</p>\n<ol start=\"3\">\n<li>íŒŒì¼ ë‹¤ìš´ë¡œë“œ</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /home/ec2-user\n\n<span class=\"token comment\">### wget https://{bucket-name}.s3.{region-identifier}.amazonaws.com/latest/install</span>\n<span class=\"token comment\">### ì•„ì‹œì•„ íƒœí‰ì–‘(ì„œìš¸)ì¸ ê²½ìš° ì˜ˆì‹œ</span>\n<span class=\"token function\">wget</span> https://aws-codedeploy-ap-northeast-2.s3.ap-northeast-2.amazonaws.com/latest/install</code></pre></div>\n<ol start=\"4\">\n<li>ë‹¤ìš´ë¡œë“œ íŒŒì¼ ì„¤ì¹˜</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> +x ./install\n<span class=\"token function\">sudo</span> ./install auto</code></pre></div>\n<ol start=\"5\">\n<li>ì„¤ì¹˜ í™•ì¸ ë° ì‹¤í–‰</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\">### ìƒíƒœí™•ì¸</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> codedeploy-agent status\n\n<span class=\"token comment\">### ì‹¤í–‰</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> codedeploy-agent start</code></pre></div>\n<p><code class=\"language-text\">The AWS CodeDeploy agent is running</code>ë¼ëŠ” ë©”ì‹œì§€ê°€ ë‚˜ì˜¤ë©´ ì„±ê³µ!</p>\n<blockquote>\n<ul>\n<li>CodeDeploy ì„¤ì¹˜ : <a href=\"https://docs.aws.amazon.com/ko_kr/codedeploy/latest/userguide/codedeploy-agent-operations-install-linux.html\">https://docs.aws.amazon.com/ko_kr/codedeploy/latest/userguide/codedeploy-agent-operations-install-linux.html</a></li>\n<li>ë¦¬ì „ë³„ ë¦¬ì†ŒìŠ¤ í‚¤íŠ¸ ë²„í‚· ì´ë¦„ : <a href=\"https://docs.aws.amazon.com/ko_kr/codedeploy/latest/userguide/resource-kit.html#resource-kit-bucket-names\">https://docs.aws.amazon.com/ko_kr/codedeploy/latest/userguide/resource-kit.html#resource-kit-bucket-names</a></li>\n</ul>\n</blockquote>\n<p>AWSì—ì„œ ì„œë²„ë³„ë¡œ CodeDeploy ì„¤ì¹˜ë°©ë²•ì„ ê°€ì´ë“œí•˜ê³  ìˆë‹¤.\nAmazon Linux ê¸°ì¤€ìœ¼ë¡œ ì„¸íŒ…ì„ í•˜ì˜€ê³ , Ubuntuë‚˜ Windows ì„œë²„ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ ì°¸ê³  ë§í¬ì—ì„œ ì°¾ì•„ë³´ë©´ ê°„í¸í•˜ê²Œ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤.</p>\n<h1 id=\"3-github-action-ì„¤ì •\" style=\"position:relative;\"><a href=\"#3-github-action-%EC%84%A4%EC%A0%95\" aria-label=\"3 github action ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Github Action ì„¤ì •</h1>\n<ol>\n<li>ymlíŒŒì¼ ë§Œë“¤ê¸°.</li>\n</ol>\n<p><code class=\"language-text\">{í”„ë¡œì íŠ¸ ë£¨íŠ¸}/.git/workexamples/{íŒŒì¼ì´ë¦„}.yml</code>ê²½ë¡œì— íŒŒì¼ì„ ìƒì„±í•´ì•¼ Githubì— ì†ŒìŠ¤ê°€ ì˜¬ë¼ê°ˆë•Œ Action ì´ë²¤íŠ¸ê°€ ë°œìƒí•œë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLUlEQVR42m1S2Y6DMAzkubuUIxBIIBwJsFBVqvr/H+e1vRsUKA8jO2CPx0eUlQ3kskUYKOoOat2DqMyOnID/v1P5gTirPhCFAb17wPx4w7S9wa0vtC/o3AaJUECFU0T2j7TQ14Tho1SoTlnIERkqpsREaE4m0nte75bg87xaspF3CKqbuL3bXTCJbEYOpOSvpMTvBdxisfvehqQHQqnHfV7UXtMvqLqDYV5BYzFlHAzLE6rWQo2+1AOMP8+d9EBIltrx5OTXreO2hWygHRYwduOxFLgo8gssJnGJ4YIOCsNZEOGfwh6awfE46AqUGdn64nEmr1sOl8OEOEMzrozaWGx5ZtLOrqya5rfnkpjzUs6EtBSDycpM+K6gaiyfECm+ir+c4TkgPI3Qv8rx+AWfNfkf0a9xdwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-002-1.png\"\n        title=\"aws-002-1.png\"\n        src=\"/static/2bf0cb2ea41ea0eb98f987ec40d293d6/37523/aws-002-1.png\"\n        srcset=\"/static/2bf0cb2ea41ea0eb98f987ec40d293d6/e9ff0/aws-002-1.png 180w,\n/static/2bf0cb2ea41ea0eb98f987ec40d293d6/f21e7/aws-002-1.png 360w,\n/static/2bf0cb2ea41ea0eb98f987ec40d293d6/37523/aws-002-1.png 720w,\n/static/2bf0cb2ea41ea0eb98f987ec40d293d6/302a4/aws-002-1.png 1080w,\n/static/2bf0cb2ea41ea0eb98f987ec40d293d6/07a9c/aws-002-1.png 1440w,\n/static/2bf0cb2ea41ea0eb98f987ec40d293d6/765b7/aws-002-1.png 3418w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<code class=\"language-text\">Github > repository > Actioníƒ­</code>ì—ì„œ ê²€ìƒ‰í•˜ì—¬ í…œí”Œë¦¿ì„ í™œìš©í•˜ì—¬ ë§Œë“¤ ìˆ˜ë„ ìˆê³ , ì§ì ‘ í•´ë‹¹ ê²½ë¡œì— íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ commit í•´ë„ ì‘ì„±í•´ë„ ì¢‹ë‹¤.</p>\n<ol start=\"2\">\n<li>yml ì˜ˆì‹œ.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Java CI with Gradle\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> main <span class=\"token punctuation\">]</span>\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> main <span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">AWS_REGION</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>northeast<span class=\"token punctuation\">-</span><span class=\"token number\">2</span>\n  <span class=\"token key atrule\">S3_BUCKET_NAME</span><span class=\"token punctuation\">:</span> example<span class=\"token punctuation\">-</span>backend<span class=\"token punctuation\">-</span>bucket\n  <span class=\"token key atrule\">CODE_DEPLOY_APPLICATION_NAME</span><span class=\"token punctuation\">:</span> example<span class=\"token punctuation\">-</span>backend<span class=\"token punctuation\">-</span>codedeploy\n  <span class=\"token key atrule\">CODE_DEPLOY_DEPLOYMENT_GROUP_NAME</span><span class=\"token punctuation\">:</span> codedeploy<span class=\"token punctuation\">-</span>group\n\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">### 1. ê¸°ë³¸ ì²´í¬ì•„ì›ƒ</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n\n    <span class=\"token comment\">### 2. JDK 11 ì„¤ì •</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set up JDK 11\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>java@v1\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">java-version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">11</span>\n\n    <span class=\"token comment\">### 3.properties íŒŒì¼ ìƒì„±.</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> make application<span class=\"token punctuation\">-</span>prod.properties\n      <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        cd ./src/main/resources\n        echo \"${{ secrets.PROPERTIES }}\" > ./application-prod.properties</span>\n      <span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span> bash\n\n    <span class=\"token comment\">### 4.gradlew ê¶Œí•œ ìƒì„±.</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Grant execute permission for gradlew\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> chmod +x gradlew\n\n    <span class=\"token comment\">### 5.ë¹Œë“œ ì‹œì‘</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build with Gradle\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> gradle/gradle<span class=\"token punctuation\">-</span>build<span class=\"token punctuation\">-</span>action@0d13054264b0bb894ded474f08ebb30921341cee\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">arguments</span><span class=\"token punctuation\">:</span> clean build <span class=\"token punctuation\">-</span>x test\n\n    <span class=\"token comment\">### 6. AWS ì¸ì¦</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Configure AWS credentials\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> aws<span class=\"token punctuation\">-</span>actions/configure<span class=\"token punctuation\">-</span>aws<span class=\"token punctuation\">-</span>credentials@v1\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">aws-access-key-id</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.AWS_ACCESS_KEY_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">aws-secret-access-key</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.AWS_SECRET_ACCESS_KEY <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">aws-region</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> env.AWS_REGION <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">### 7. S3 ë“±ë¡</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Upload S3\n      <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">AWS_ACCESS_KEY_ID</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.AWS_ACCESS_KEY_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">AWS_SECRET_ACCESS_KEY</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.AWS_SECRET_ACCESS_KEY <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        aws deploy push \\\n          --application-name ${{ env.CODE_DEPLOY_APPLICATION_NAME }} \\\n          --ignore-hidden-files \\\n          --s3-location s3://$S3_BUCKET_NAME/$GITHUB_SHA.zip \\\n          --source .</span>\n\n    <span class=\"token comment\">### 8. CdoeDeploy ì‹¤í–‰</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy to AWS EC2 from S3\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        aws deploy create-deployment \\\n          --application-name ${{ env.CODE_DEPLOY_APPLICATION_NAME }} \\\n          --deployment-config-name CodeDeployDefault.AllAtOnce \\\n          --deployment-group-name ${{ env.CODE_DEPLOY_DEPLOYMENT_GROUP_NAME }} \\\n          --s3-location bucket=$S3_BUCKET_NAME,key=$GITHUB_SHA.zip,bundleType=zip</span></code></pre></div>\n<p><code class=\"language-text\">env</code>ê´€ë ¨ ë³€ìˆ˜ë“¤ì€ ymlíŒŒì¼ ìƒë‹¨ì— ì„ ì–¸í›„ ì‚¬ìš©í•˜ì˜€ê³ ,\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABWElEQVR42n1S2XKCQBD0WSMgsCcsxyIYq5JKVV7y/1/WmV6VJJbmoZndYbbn6NmUusVBULsePBOVCahsByO+r7bFSVvscoWXQifklcNBNchKi/3B/MGGAQwuhYRBvPNHF1/RTWco8ddMQCtJaLt4RlzeUdR+jV8J+aGTFbnumEjpCySUh6aNsO2ULKF8RF63K8Gt6hsSISt0YYKSFnmmzw8zfFxQuS4lI5QbhHCEbiSJgK0/rVA3Y5rllrMSX2YsssZhr+S/+JiI1bNt388YBMV/hNYPcM2AWnlkci9sg8I10p5LlRDldY6Ksb5HLqI8JpTsn+OEj+OCaBxmUdVJa0ba0vKYIAk3gW1TmOKq8tMKexcSbKlgSp0ECiIKiS6zu4DCDPNb2oDfM7zZlbBmcDhiJ/ftdY24Ou14SgjjRfXA+7Ckqu/Jkso/JWtkd0t6vxK/sX8QS/sNBa/7qVwB5hcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-002-2.png\"\n        title=\"aws-002-2.png\"\n        src=\"/static/d67465e9689e4678cb35790c57a642dc/37523/aws-002-2.png\"\n        srcset=\"/static/d67465e9689e4678cb35790c57a642dc/e9ff0/aws-002-2.png 180w,\n/static/d67465e9689e4678cb35790c57a642dc/f21e7/aws-002-2.png 360w,\n/static/d67465e9689e4678cb35790c57a642dc/37523/aws-002-2.png 720w,\n/static/d67465e9689e4678cb35790c57a642dc/302a4/aws-002-2.png 1080w,\n/static/d67465e9689e4678cb35790c57a642dc/07a9c/aws-002-2.png 1440w,\n/static/d67465e9689e4678cb35790c57a642dc/765b7/aws-002-2.png 3418w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<code class=\"language-text\">secrets</code>ë³€ìˆ˜ë“¤ì€ `Settins > Secrets > Actionsâ€™ì— ì„¤ì •ì„ í•´ë‘ê³  ì‚¬ìš©í–ˆë‹¤.</p>\n<p>ì•ì—ì„œ ì‚´ì§ ì–¸ê¸‰í–ˆë“¯ì´ Github Actionì—ì„œì˜ ì—­í• ì€ <strong>Github ìì²´ ì„œë²„ì—ì„œ ì†ŒìŠ¤ë¥¼ ë¹Œë“œ</strong>í•˜ê³ , ê·¸ íŒŒì¼ì„ <strong>ì••ì¶•í•˜ì—¬ AWS S3ì— ì—…ë¡œë“œ</strong> í›„ <strong>AWS CodeDeployë¥¼ ì‹¤í–‰</strong>ëª…ë ¹ì„ ë‚´ë ¤ì£¼ëŠ” ê²ƒì´ë‹¤.</p>","excerpt":"0. ì „ì²´ì ì¸ íë¦„ Github Action ì„¤ì •ì„ í†µí•´ ë¹Œë“œ íŒŒì¼ì„ S3ì— ì—…ë¡œë“œ í•˜ê³ , CodeDeploy ë¥¼ ì‹¤í–‰í•¨. CodeDeploy ì—ì„œ EC2ì— ë°°í¬ ì‹¤í–‰í•˜ë„ë¡ ëª…ë ¹. 1ë‹¨ê³„ì—ì„œ S3ì— ì˜¬ë ¤ë‘” í•„ë“œ íŒŒì¼ì„ EC2ì—ì„œ ê°€ì ¸ì™€ ì˜ˆì•½ëœ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰. 1. S3 ë§Œë“¤ê¸° Github Actionìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ë¹Œë“œ ì••ì¶•íŒŒì¼ì„ ì—…ë¡œë“œ í•  S3íŒŒì¼ì„ ë§Œë“¤ì–´ì£¼ì. \në‹¤ë¥¸ ì„¤ì •ë“¤ì€ ê¸°ë³¸ ì˜µì…˜ìœ¼ë¡œ ë‘ê³  ë§Œ í™•ì¸í•´ë‘ì. Github Action ì„¤ì • ymlíŒŒì¼ì— ì—…ë¡œë“œí•  S3 ë²„í‚· ì´ë¦„ì„ ì„¸íŒ…í•´ì¤˜ì•¼ í•œë‹¤. 2. AWS EC2 ì„œë²„ì— CodeDeploy ì„¤ì¹˜ CodeDeploy ì„¤ì¹˜ì‹œ í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì´ì „ ì—ì´ì „íŠ¸ ìºì‹± ì •ë³´ì˜ AMIë¥¼ ì •ë¦¬ ì„ì‹œ shell íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ì‹¤í–‰í•´ì£¼ì. íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë‹¤ìš´ë¡œë“œ íŒŒì¼ ì„¤ì¹˜ ì„¤ì¹˜ í™•ì¸ ë° ì‹¤í–‰ ë¼ëŠ” ë©”ì‹œì§€ê°€ ë‚˜ì˜¤ë©´ ì„±ê³µ! CodeDeploy ì„¤ì¹˜ : https://docs.aws.amazon.com/ko_kr/codedeploy/latest/â€¦","frontmatter":{"date":"August 29, 2022","title":"Github Action + AWS EC2 CodeDeploy + S3ë¥¼ ì´ìš©í•˜ì—¬ ìë™ ë°°í¬ í•˜ê¸° (1/2)","categories":"ë¸”ë¡œê·¸ AWS Git","author":"ë§‰ê±¸ë¦¬ì— ê°ìì „","emoji":"ğŸ’»"},"fields":{"slug":"/aws-002-github-action-with-codedeploy/"}},"next":{"id":"9bbf2555-4f9b-5fbf-ac41-ae85bc4d4684","html":"<blockquote>\n<p>amazon-linux ë¡œ ìƒì„±í•œ EC2ì—ì„œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<h2 id=\"1-ec2ì—ì„œ-git-java-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#1-ec2%EC%97%90%EC%84%9C-git-java-%EC%84%A4%EC%B9%98\" aria-label=\"1 ec2ì—ì„œ git java ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. EC2ì—ì„œ git, java ì„¤ì¹˜</h2>\n<ul>\n<li>git ì„¤ì¹˜</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># git ì„¤ì¹˜</span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token function\">git</span> -y\n\n<span class=\"token comment\"># git ì„¤ì¹˜ í™•ì¸</span>\n<span class=\"token function\">git</span> version</code></pre></div>\n<ul>\n<li>java ì„¤ì¹˜(ê°ì ë²„ì „ì— ë§ê²Œ)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># OpenJDK 11 ì„¤ì¹˜</span>\n<span class=\"token function\">sudo</span> amazon-linux-extras <span class=\"token function\">install</span> java-openjdk11\n\n<span class=\"token comment\"># OpenJDK 11 ì„¤ì¹˜ í™•ì¸</span>\njava -version</code></pre></div>\n<h2 id=\"2-gitì—ì„œ-ì†ŒìŠ¤-ë‚´ë ¤ë°›ê¸°\" style=\"position:relative;\"><a href=\"#2-git%EC%97%90%EC%84%9C-%EC%86%8C%EC%8A%A4-%EB%82%B4%EB%A0%A4%EB%B0%9B%EA%B8%B0\" aria-label=\"2 gitì—ì„œ ì†ŒìŠ¤ ë‚´ë ¤ë°›ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. gitì—ì„œ ì†ŒìŠ¤ ë‚´ë ¤ë°›ê¸°</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone {repository URL}</code></pre></div>\n<h2 id=\"3-íŒ¨í‚¤ì§€-ë¹Œë“œ\" style=\"position:relative;\"><a href=\"#3-%ED%8C%A8%ED%82%A4%EC%A7%80-%EB%B9%8C%EB%93%9C\" aria-label=\"3 íŒ¨í‚¤ì§€ ë¹Œë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. íŒ¨í‚¤ì§€ ë¹Œë“œ</h2>\n<blockquote>\n<p>í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰</p>\n</blockquote>\n<h3 id=\"1-maven\" style=\"position:relative;\"><a href=\"#1-maven\" aria-label=\"1 maven permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) maven</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># ë©”ì´ë¸ ë¹Œë“œ</span>\nmvn package</code></pre></div>\n<p>maven ë¹Œë“œ í›„ì— <code class=\"language-text\">/target</code>ê²½ë¡œì— <code class=\"language-text\">.jar</code> í™•ì¥ìëª…ìœ¼ë¡œ íŒŒì¼ì´ ìƒì„±ëœë‹¤. ì •ìƒì ìœ¼ë¡œ ë¹Œë“œ ë˜ì—ˆëŠ”ì§€ ì‹¤í–‰í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">java -jar target/demo-0.0.1-SNAPSHOT.jar</code></pre></div>\n<h3 id=\"2-gradle\" style=\"position:relative;\"><a href=\"#2-gradle\" aria-label=\"2 gradle permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) gradle</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 1. \"./gradlew\" íŒŒì¼ì— ëŒ€í•œ ê¶Œí•œ ë¶€ì—¬</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> <span class=\"token number\">777</span> ./gradlew\n\n<span class=\"token comment\"># 2. gradlewì„ ì´ìš©í•˜ì—¬ ë¹Œë“œ</span>\n./gradlew clean build</code></pre></div>\n<p>gradle ë¹Œë“œ í›„ì—ëŠ” <code class=\"language-text\">/build/libs</code>ì´í•˜ì— <code class=\"language-text\">.jar</code> íŒŒì¼ì´ ìƒì„±ëœë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ì˜¤ë¥˜ ì—†ì´ ë¹Œë“œ ë˜ëŠ”ì§€ ì‹¤í–‰í•´ë³¸ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">java -jar build/libs/demo-0.0.1-SNAPSHOT.jar</code></pre></div>\n<h2 id=\"4-deploysh-ì‘ì„±\" style=\"position:relative;\"><a href=\"#4-deploysh-%EC%9E%91%EC%84%B1\" aria-label=\"4 deploysh ì‘ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. deploy.sh ì‘ì„±</h2>\n<h3 id=\"1-deploysh-ìƒ˜í”Œ\" style=\"position:relative;\"><a href=\"#1-deploysh-%EC%83%98%ED%94%8C\" aria-label=\"1 deploysh ìƒ˜í”Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) deploy.sh ìƒ˜í”Œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/usr/bin/env shell</span>\n\n<span class=\"token assign-left variable\">REPOSITORY</span><span class=\"token operator\">=</span>/home/<span class=\"token punctuation\">{</span>user-name<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>/<span class=\"token punctuation\">{</span>project-name<span class=\"token punctuation\">}</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"> í˜„ì¬ êµ¬ë™ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ pid í™•ì¸\"</span>\n\n<span class=\"token assign-left variable\">CURRENT_PID</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>pgrep -fl action <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> java <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'{print $1}'</span><span class=\"token variable\">)</span></span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"í˜„ì¬ êµ¬ë™ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ pid: <span class=\"token variable\">$CURRENT_PID</span>\"</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -z <span class=\"token string\">\"<span class=\"token variable\">$CURRENT_PID</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"í˜„ì¬ êµ¬ë™ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì—†ìœ¼ë¯€ë¡œ ì¢…ë£Œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"> kill -15 <span class=\"token variable\">$CURRENT_PID</span>\"</span>\n  <span class=\"token function\">kill</span> -15 <span class=\"token variable\">$CURRENT_PID</span>\n  <span class=\"token function\">sleep</span> <span class=\"token number\">5</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"> ìƒˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬\"</span>\n\n<span class=\"token comment\"># maven ì´ë‚˜ gradleì— ë”°ë¼ ë¹Œë“œëœ jaríŒŒì¼ì´ ìƒì„±ë˜ëŠ” ìœ„ì¹˜ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì˜ í™•ì¸í•´ì„œ ì‘ì„±í•´ì¤€ë‹¤.</span>\n<span class=\"token comment\"># ì•„ë˜ ê²½ë¡œëŠ” gradle ê¸°ì¤€</span>\n<span class=\"token assign-left variable\">JAR_NAME</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">ls</span> -tr $REPOSITORY/build/libs/*.jar <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> -n <span class=\"token number\">1</span><span class=\"token variable\">)</span></span>      <span class=\"token comment\"># gradle ver</span>\n<span class=\"token comment\">#JAR_NAME=$(ls -tr $REPOSITORY/target/*.jar | tail -n 1)     # maven ver</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"> JAR NAME: <span class=\"token variable\">$JAR_NAME</span>\"</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"> <span class=\"token variable\">$JAR_NAME</span> ì— ì‹¤í–‰ê¶Œí•œ ì¶”ê°€\"</span>\n\n<span class=\"token function\">chmod</span> +x <span class=\"token variable\">$JAR_NAME</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"> <span class=\"token variable\">$JAR_NAME</span> ì‹¤í–‰\"</span>\n\n<span class=\"token function\">nohup</span> java -jar <span class=\"token variable\">$JAR_NAME</span> <span class=\"token operator\">></span> <span class=\"token variable\">$REPOSITORY</span>/nohup.out <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span> <span class=\"token operator\">&amp;</span></code></pre></div>\n<h3 id=\"2-gradle-ë¹Œë“œ-í›„-ì„œë²„-êµ¬ë™ì‹œ-ì£¼ì˜ì‚¬í•­\" style=\"position:relative;\"><a href=\"#2-gradle-%EB%B9%8C%EB%93%9C-%ED%9B%84-%EC%84%9C%EB%B2%84-%EA%B5%AC%EB%8F%99%EC%8B%9C-%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD\" aria-label=\"2 gradle ë¹Œë“œ í›„ ì„œë²„ êµ¬ë™ì‹œ ì£¼ì˜ì‚¬í•­ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) gradle ë¹Œë“œ í›„ ì„œë²„ êµ¬ë™ì‹œ ì£¼ì˜ì‚¬í•­</h3>\n<p>gradle ë¹Œë“œì‹œì— ë”°ë¡œ ì„¤ì •ì„ í•´ì£¼ì§€ ì•Šìœ¼ë©´ <code class=\"language-text\">*.jar</code>íŒŒì¼ê³¼ <code class=\"language-text\">*-plain.jar</code>íŒŒì¼ ë‘ê°œê°€ ìƒê¸´ë‹¤. <code class=\"language-text\">*-plain.jar</code>íŒŒì¼ì€ ì˜ì¡´ì„±ì´ í¬í•¨ë˜ì§€ ì•Šì€ íŒŒì¼ì´ê¸° ë•Œë¬¸ì— íŒŒì¼ ìš©ëŸ‰ë„ ì‘ê³  ì •ìƒì ìœ¼ë¡œ ì„œë²„ê°€ êµ¬ë™ë˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì„œë²„ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìˆ˜ì •í•´ì£¼ê±°ë‚˜ gradle ë¹Œë“œì‹œì— <code class=\"language-text\">*-plain.jar</code>íŒŒì¼ì´ ìƒì„±ë˜ì§€ ì•Šë„ë¡ <code class=\"language-text\">build.gradle</code>íŒŒì¼ì„ ìˆ˜ì • í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">jar {\n    enabled = false\n}</code></pre></div>","frontmatter":{"date":"August 28, 2022","title":"AWS EC2ì— Spring boot ë°°í¬í•˜ê¸°!(ì‘ì„±ì¤‘..)","categories":"AWS","author":"ë§‰ê±¸ë¦¬ì— ê°ìì „","emoji":"ğŸ”®"},"fields":{"slug":"/aws-001/"}},"prev":{"id":"108f652a-6d7a-5490-8228-d31e23426eac","html":"<h1 id=\"4-iam-ê¶Œí•œ-ì„¤ì •\" style=\"position:relative;\"><a href=\"#4-iam-%EA%B6%8C%ED%95%9C-%EC%84%A4%EC%A0%95\" aria-label=\"4 iam ê¶Œí•œ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. IAM ê¶Œí•œ ì„¤ì •</h1>\n<h2 id=\"1-ec2-ì ìš©\" style=\"position:relative;\"><a href=\"#1-ec2-%EC%A0%81%EC%9A%A9\" aria-label=\"1 ec2 ì ìš© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) EC2 ì ìš©</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABw0lEQVR42n2SvW7UQBSF/RCs2CjvkYKERaKj4wmCFO0WgQKEIgXR8i5UNEGiCvRIREBBUiAkFDZ44397/DPjmbEP947XaKu19OlY19dn7rka78XpGzx/+Ronp6+w9/gZpvePsLP/BNN7h9idHWE6m1NtQcyxM1tgcjDHnf05JszBAncfHGP34VNMZsd4dHgCryxLJHEE9B0ufpc4uwhwfpnh41Xu9PwyHfiR4tNVhg/fE7z/Fg98jYgQ776EePs5xK9VQYZVBdt1cE9vICtB0qIzilS595FOK2oyhF2jCYVlVOGnL6jUwlM1GVrj/BqpcH2zwtIPcBsmjlUYE2sNSIMIQRDids31nxtiiTCK0DQSXlWVMGYw7Cm2qCVWaY1USGitYenbJmYDay3yPEccx6jrGkopeEVRQEq5jtyjUgZhoRxNa12t3wIbpWmKLMsGQy7wJKOhaDT+Jg3yivZGu+22wIZCCEQUN0kSSDZsmgZt2/43LKVBLFpIbemn7dMxY2Sezk3IZjUtM62020mSUUMm6BBukG4dm4y7G5VrFd0Urc1gyKfwtdG2d9F930cUJ+DrxHE4wXg6wwNswsas3Mfv/wCjxtocreFdtQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-1.png\"\n        title=\"aws-003-1.png\"\n        src=\"/static/44b280904a85415aef483f359b043e73/37523/aws-003-1.png\"\n        srcset=\"/static/44b280904a85415aef483f359b043e73/e9ff0/aws-003-1.png 180w,\n/static/44b280904a85415aef483f359b043e73/f21e7/aws-003-1.png 360w,\n/static/44b280904a85415aef483f359b043e73/37523/aws-003-1.png 720w,\n/static/44b280904a85415aef483f359b043e73/302a4/aws-003-1.png 1080w,\n/static/44b280904a85415aef483f359b043e73/07a9c/aws-003-1.png 1440w,\n/static/44b280904a85415aef483f359b043e73/46c38/aws-003-1.png 3448w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABZ0lEQVR42pWRUSsEURTH5120ivIoH0BpN+LFvnq3JYtS8swjj4gnn8KTB0n4EMozUbYtrdqVGePeO3Pn3jvzd+4wa5ZRnPr1v+fcc849p+vM1jYxWl3DWHUJI9N1DE0tYrBcQ2liHqXKAgYqdfSXiUoBFC9NrmB4ZhV95WWMz63DubhuYf+sgcPLBnZPH7BDHJw3sUexreN74i5Hsb9NbBzd4OSqBUdJAROFgJGwlkgGHfgwBKDwX3MY55BRBK0NdJzgse2i2Wrj2RfgkUEQSoQyQqQ0FOUwLrq+NjEM1XwRwxFCIKZDksTpC6+BRscP4JK+SUPFEowx2DytNcIwRBAEqdq6dKskIT7UsZdZ0JqgiX3fT4uUUqla356zBr/Zj4YW1/UgaSrbwKqdKrv7C70NSX3G03Vso6xZ/sH8Nr3xpHhlzhk8z+tOZ4xJ7+y6GXk/M/oTomDC/Pj45hfymXP7JPDCFN4BE/TUZ5WSRTgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-2.png\"\n        title=\"aws-003-2.png\"\n        src=\"/static/b8884b80e5b5a20b1624671ec21a8613/37523/aws-003-2.png\"\n        srcset=\"/static/b8884b80e5b5a20b1624671ec21a8613/e9ff0/aws-003-2.png 180w,\n/static/b8884b80e5b5a20b1624671ec21a8613/f21e7/aws-003-2.png 360w,\n/static/b8884b80e5b5a20b1624671ec21a8613/37523/aws-003-2.png 720w,\n/static/b8884b80e5b5a20b1624671ec21a8613/302a4/aws-003-2.png 1080w,\n/static/b8884b80e5b5a20b1624671ec21a8613/07a9c/aws-003-2.png 1440w,\n/static/b8884b80e5b5a20b1624671ec21a8613/59733/aws-003-2.png 3442w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABtUlEQVR42p2SwWrVQBSG8wJaLZR22ydQWkqhoC/QhbrQioJdtavSbisILnyNbupCqoIvIb6AKHhduLt4k3uTmdzcZCaZSX7nP9doqwXBgS9/GGa+OXOSaPPOAVZv72L11g5WNnewtPEAizfv4dqNu1hcv4+FtYe4egn9/PWNR1jeeoIr64+xtr2H6NWHIZ6/HeDFu694evYFx2cDPHvD9wEOTz/j6OU/kDWfsH/yEa/ff0MEdGicB9BChjPg3H+N1iGydY2yMvBthzYwHk+glEYV5oytUTdOaH6mUDewAaaxFkpr6DyHMRaR9x7ONei6TphMJhgOh5JJkghZlmE6nQp52KiUQppmsoYFxHEsVFWFiBKOXmjC5PdRjCQroMPJaZpiNBpJUkR4ALMsy1CVEWyolFwUMlsPrYJEW1ThClxMAYW9iJUxexHTObai/lvovUOuU4xzK701ppJKKWNyEzf/CVtHLhVOgzDphaEF569JKWFl51tF2rb9LeyHVBiuHGuDoqykwvlHSEU0m80u9I5VUdQT8TG3B0J6NxcmQTgLQn65LFO/+jj/rRSKopAqub+XMn8AyREYDxaNsLkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-3.png\"\n        title=\"aws-003-3.png\"\n        src=\"/static/7cd9855156e44ca75781e475d3a5a572/37523/aws-003-3.png\"\n        srcset=\"/static/7cd9855156e44ca75781e475d3a5a572/e9ff0/aws-003-3.png 180w,\n/static/7cd9855156e44ca75781e475d3a5a572/f21e7/aws-003-3.png 360w,\n/static/7cd9855156e44ca75781e475d3a5a572/37523/aws-003-3.png 720w,\n/static/7cd9855156e44ca75781e475d3a5a572/302a4/aws-003-3.png 1080w,\n/static/7cd9855156e44ca75781e475d3a5a572/07a9c/aws-003-3.png 1440w,\n/static/7cd9855156e44ca75781e475d3a5a572/46c38/aws-003-3.png 3448w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABj0lEQVR42pWRzUoDMRSF5wX8BdGtT6BYqiDoEwjqQisKunMl6FZBXPgabhQEteJT6AsIFdSFCxHBTqc6mWSSzGSO906ttFiqhhxO5pJ89yTjTc5vYXR2A6MzJYxMlTBUXMbA+CL6xxYwWFhC38QKejuoWR8ormJ4eh09hTUU5jbhnV6/4KB8j8Ore+yekc4fsH/5iL2LB2yf3JEq3XVcwQ755tEtyjdP8IAMNknBzsOqEEaGcEbi38Ml8LRNECmD1DkkBK76NYgogjY2b5Sk7k9KXYY41vCSJIEQEdI0haOiX/tAKDUENYmtI2Vf3i5lGUS3yjKajdtpY+A1P/LElFKEAhElVCqG1hrckPe4FmUtzuMbSPvbgLzmolKK4sew1JGbZF+HO6kVyM1/ABkmpYRUsu3Ab1AO8A1sFjlNvV6HHwj45JGKYK2FoaTdxHv4mdh/vGEQBJRQ4fm1iregmj+B0abhRreAGutG3eTAPCFD+O8ymAu+71N8hfpHiNo7p5T5oZikO4ivyi6EgKGEnzDHH5z6lgwVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-4.png\"\n        title=\"aws-003-4.png\"\n        src=\"/static/cc8525fb1091b00f0cc3dc2fd3f36da7/37523/aws-003-4.png\"\n        srcset=\"/static/cc8525fb1091b00f0cc3dc2fd3f36da7/e9ff0/aws-003-4.png 180w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/f21e7/aws-003-4.png 360w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/37523/aws-003-4.png 720w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/302a4/aws-003-4.png 1080w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/07a9c/aws-003-4.png 1440w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/f24c5/aws-003-4.png 3454w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<blockquote>\n<p>AWSCodeDeployFullAccess<br>\nAmazonS3FullAccess</p>\n</blockquote>\n<p>ë‘ ê°€ì§€ ê¶Œí•œì„ ì²´í¬í•˜ì—¬ ì—­í• ì„ ë§Œë“ ë‹¤.<br>\nì—­í•  ì´ë¦„ì€ EC2ì— ê¶Œí•œ ì„¤ì •ì„ í•´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì— ê¸°ì–µí•´ë‘ì–´ì•¼ í•œë‹¤.</p>\n<p>ìœ„ì—ì„œ ë§Œë“  IAM ì—­í• ì„ EC2 ì„œë²„ì— ì ìš©í•´ì£¼ì.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAChUlEQVR42o1STWsUQRCdP6IgJAoSEhEMGzUIXvQs/lZBJMZoEt2wCeaSkIOaZHdnd766Z7pneqbn61nVmw25CDY8qqmqflX9qrzB63d49eY9nm+/xdrmAJuDF3j89CUePdnCw40B7q9u4N7KusPK2jOsrm/hwfr2P+F9OviJnS8H2N3dx+FohL29r/jwcQefv/3A/vAEw9FPDI9PHQ6PThy+Hx2TJQzvYuSsV7ctstxgebI8R5hpZKWFsi168llboa5r/M/xpEzB6PsetbW4CgR++yEu/TlmIoMujIsLKTELIshMoaoqKK3hz2fIFBUn3zwInM8zZXXLbomwKAo0bLVCXZXou3YRpIKz1FD3Bm3bwVQaU3Hl8hURSirY9x08naX0sLgljFQOYSzGYYJ5qmHaHqZuUTYdfGVxKUskpkVS5vglr5HkJcJU0Y8CaJLIM5mASgJH2DQ1zsYBzqYh2Rku/AjjJMU8jN1XFRU692OcTyNczAKcjv/g4ib3nDDJCni5KZ1OfFh4IRLSgh4rRfpkpE/mNCoop6MB5rle+Ciu6TdsOVfTMPmdp0hUIQRp1DnChO4cdIkk8vLetgstlc6RZsr5UrWwd+EJniB1BTBhgziOEcXUpVp0ook0ZZsXjrSkCTdkm6ZBTWDL2lcEvns5JTZNe/vlVFKH4dh9jTvklQm5AHXW0aRL2gouZoxxJFzkLrw0lahoYsspc9txFBGJgKUJ885djyeuGHdQVdbdu65z6G/sEl5BlWSaumSestOUdoo74Ies4WTqU4EYnBsliZPEUox3ONbWrdViVXvSkBJUJimhcRW4S2trF+TDPiEkkkQ4Ei42mU8QyMBpzmnLXLZ/AZXsAH8glQkMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-5.png\"\n        title=\"aws-003-5.png\"\n        src=\"/static/51b26860af8ff93e2f0db22d96ef3fdb/37523/aws-003-5.png\"\n        srcset=\"/static/51b26860af8ff93e2f0db22d96ef3fdb/e9ff0/aws-003-5.png 180w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/f21e7/aws-003-5.png 360w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/37523/aws-003-5.png 720w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/302a4/aws-003-5.png 1080w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/07a9c/aws-003-5.png 1440w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/ade5e/aws-003-5.png 2188w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB90lEQVR42pWS3U4TQRTH9yEMGkk0aoOKEgzUF5CXEvDCUBL5sAheeuEb6I3PQk2MaSu1hXa/Zmd3dnZ2dvv3zCxdsNEYJ/nlnDNz8s/5GGe5uYFHzRdYeb6Be4/XiRUsLT/DnaVV3H24SvEabt9/ghuLjZrFB0/t+63GGhYaTdxsrFsWCOdN+yP23n/A8f4Jdg+OsXdyhKP2O2y22thuHWJr5wAvX+9je+cQr3bf/hMHdKTKIYsSsSqgdAlfaGS6gC5L5HkOkQroQqM6078ynZZwFImxKEKv20On00H/54gEUmRSQloyZFlm/bS+u2J2l6YSIYvg5FqDxzE8zyc8BCFDnCTQdD/DVJlfi//ETMcKJkLAZzH8RNmmSuqgoHZL4n+OKcQKGsd1PWqdQylVt2kwscH4OY1nFhts5crkZCiK4pogVTgcuxiMzsFpFlykl1ZWlmCJQEw24NQJjcULGMaRxIApeKJamNFxTP+Meu/5DGeEKxX8TMNXGgFtfR6P3kISN8sQIoaY9JG6Z5BkOQsqwYgEu8MLnH7vw+U0z0QiyUuIYlqhrzD3jHN4jOifgn3eAvvSQvhpE9Hg62WFlPBtOEHnxwjdcYDuJESPmNlzLnERZxbjezRrs1FTCKdqa8yWbYW8SrBJ9CcjHs1Z/hu1mLFzb78AHU1TogtHmicAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-6.png\"\n        title=\"aws-003-6.png\"\n        src=\"/static/e3ef26732a2d341525759672d8642aa0/37523/aws-003-6.png\"\n        srcset=\"/static/e3ef26732a2d341525759672d8642aa0/e9ff0/aws-003-6.png 180w,\n/static/e3ef26732a2d341525759672d8642aa0/f21e7/aws-003-6.png 360w,\n/static/e3ef26732a2d341525759672d8642aa0/37523/aws-003-6.png 720w,\n/static/e3ef26732a2d341525759672d8642aa0/302a4/aws-003-6.png 1080w,\n/static/e3ef26732a2d341525759672d8642aa0/07a9c/aws-003-6.png 1440w,\n/static/e3ef26732a2d341525759672d8642aa0/80cfc/aws-003-6.png 1844w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"2-codedeploy-ì ìš©\" style=\"position:relative;\"><a href=\"#2-codedeploy-%EC%A0%81%EC%9A%A9\" aria-label=\"2 codedeploy ì ìš© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) CodeDeploy ì ìš©</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABg0lEQVR42pVRu07DQBDM94CCgCY1iEcRWooUIYgCiY4f5R+QooQQ2/HjfG/fDbtObKIIhFhpNPbe7uzc3uBm8orR3TNG4ynObh9wShheTlqcXE9xfDXD0dUjYXaAbW5484Tz8TOOrp9wcf+CwUZYzBOBdaGQCodlKrDKJRbEHxvZ5tLKIiEwp2LHO3A+KU3Lm1JiEEMDoyVi8ODI0gTJ+hOiKsFn/wnvHQZN08B5jxgjfIhYkKtFJpBKj8oESKlaKKXhnENRlqilpH+FJoS2L1BfJEFjDDmkRAeOWhvkpYBQBtY1bWNRFNBag4dzHXP3zdGxtXYr2EWgiUWeQ5EDrRUsTeSpzL3AXv2hmV4w7hVUQsCzAxL3u1W0Z7/hJ0F0oiRSrlcQmwxGVLC1QDSaKg3iISgfnf35yr0LcrSez1FkGaysCbJlT82BillgC4fAOSW/r86Psr/DjoskQfqx7B12bGsSpr2yENgZNYP3+tuj/Lkr3sj+vnfYbiri7b1GLjS+ACqsNQmsLspuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-7.png\"\n        title=\"aws-003-7.png\"\n        src=\"/static/3fbde0076926e3fe21e5c35b2c0d2b10/37523/aws-003-7.png\"\n        srcset=\"/static/3fbde0076926e3fe21e5c35b2c0d2b10/e9ff0/aws-003-7.png 180w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/f21e7/aws-003-7.png 360w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/37523/aws-003-7.png 720w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/302a4/aws-003-7.png 1080w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/07a9c/aws-003-7.png 1440w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/de720/aws-003-7.png 3452w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\nì´ë²ˆì—ëŠ” CodeDeployì— ì ìš©í•  IAMì„ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ë°, AWSì—ì„œ ì„œë¹„ìŠ¤í•˜ëŠ” CodeDeployë¥¼ ì´ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ê²€ìƒ‰í•˜ì—¬ ì„ íƒí•´ì£¼ê³ , <u>ë‹¤ìŒí™”ë©´ì—ì„œëŠ” ê¶Œí•œì„ ë”°ë¡œ ì²´í¬í•´ì£¼ì§€ ì•Šì•„ë„ ëœë‹¤.</u></p>\n<h1 id=\"5-codedeploy-ìƒì„±\" style=\"position:relative;\"><a href=\"#5-codedeploy-%EC%83%9D%EC%84%B1\" aria-label=\"5 codedeploy ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. CodeDeploy ìƒì„±.</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABEUlEQVR42o2R20rEMBCG+7iKWhRXd1ndriuIgg/lA/gE3u2lLNo2bTo593eStlJB0IGPSf45hmSr7TPWxQOK3T0uV1vk1xscny9xlF/hbHGD00WBk2826T4RtXx5h4vbJ+TrRz7vkFlrYY1BNOs83g8fIOP47OC9R98HhBCSj+aDh/NuxHMe1+9fod9eELxFRqRQViIFlVKohUikQYwZfYxVtYDh4cYMmtYaUnawskZXHUBE3LCTUEy0WNRIiVI0aDmR+B4HRi9Z/yzLVJR0pusITdtC8QDSJtVnmiTaukTPDUlR2i4miaZBzcz9XJ+0geFVcUhGSqdt/PjkqfA3/oqlhrGJ4w9A2lD92OS/zBt+ASEZ/+M0sSbbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-8.png\"\n        title=\"aws-003-8.png\"\n        src=\"/static/e140f9005c04e854ba3e05d6db245cae/37523/aws-003-8.png\"\n        srcset=\"/static/e140f9005c04e854ba3e05d6db245cae/e9ff0/aws-003-8.png 180w,\n/static/e140f9005c04e854ba3e05d6db245cae/f21e7/aws-003-8.png 360w,\n/static/e140f9005c04e854ba3e05d6db245cae/37523/aws-003-8.png 720w,\n/static/e140f9005c04e854ba3e05d6db245cae/302a4/aws-003-8.png 1080w,\n/static/e140f9005c04e854ba3e05d6db245cae/07a9c/aws-003-8.png 1440w,\n/static/e140f9005c04e854ba3e05d6db245cae/59733/aws-003-8.png 3442w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACGklEQVR42pWSXU8TQRSG+wf0QtGoGCyhRlQ0oj/ARP4eQcVUlNSC2MZEr7ww9YbES6GJMYUULxSJsS3bbbs7+znb7e7rOdNuaZQ0cJInM5k58875Ss3eX0Bm/iHuPniEycwcrs7cwHTmFi5P38YVZmYOF6dmcfbCNcWZiSmcn7yOS+mbmEjfwbn0PHFvSCq38QGviu+xkSsiX3iL1UIBxTdFLK2sYzGbx+PneSxlc3iysoZnq68Vyy/X8fTFGpaPIQUy25fQhAPb9VA3XJiuhCVD2N0YURzB8zwEgcRJLCWDAL8ODlAul1HZ2cXeXhWVyg60pgYhBDqGAcMUhIk27cfBvqmABIVlod5o4FDToLdacCkiz/MHqzdcx+L7sB2HBLtdWCT4p1ZDo3EIXW+hS2dhGJ6KXq+nhFWErNzpUNjtNnz/ZLVii+N4CJsv5Ygg1cikmjFB0EUvitSvCeGA0bNE6D9Bx3WVENeNLWIxYrgOHrAl58zYCJOmHGccjUkZOOQ3mm5/E1EEPd5ASv9IkNuuNXU1IpbtQNi26j5HX6vX8bFUwpetLeWrSkN3KgP+kLMivDDuC1r0+MfPfZrB72rPXeNzngCGu86pcg35nO/5M73dgbn9DuZmFsanRZjfSkeCPH9NXVczx7XgufIHeP/A9/1ILYj9rxDVzxC7mxC/q/055N/YgeF90u1xsB8HYvk0xzKCFRCexF/J5fL6F354TQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-9.png\"\n        title=\"aws-003-9.png\"\n        src=\"/static/2c62575b6ba98a84ebff7b1e8807087d/37523/aws-003-9.png\"\n        srcset=\"/static/2c62575b6ba98a84ebff7b1e8807087d/e9ff0/aws-003-9.png 180w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/f21e7/aws-003-9.png 360w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/37523/aws-003-9.png 720w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/302a4/aws-003-9.png 1080w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/07a9c/aws-003-9.png 1440w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/913b9/aws-003-9.png 1822w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>EC2 ì„œë²„ì— ë°°í¬í•´ì¤„ CodeDeployë¥¼ ë§Œë“¤ì–´ì£¼ì.</p>\n<h1 id=\"6-codedeploy-ìš©-iam-ë§Œë“¤ê¸°\" style=\"position:relative;\"><a href=\"#6-codedeploy-%EC%9A%A9-iam-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"6 codedeploy ìš© iam ë§Œë“¤ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. CodeDeploy ìš© IAM ë§Œë“¤ê¸°</h1>\n<blockquote>\n<p>IAMì€ ì¼ì¢…ì˜ AWS ì ‘ì†ìš© ê³„ì •ì„ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒìœ¼ë¡œ ë³´ë©´ ë ë“¯..</p>\n</blockquote>","frontmatter":{"date":"August 30, 2022","title":"Github Action + AWS EC2 CodeDeploy + S3ë¥¼ ì´ìš©í•˜ì—¬ ìë™ ë°°í¬ í•˜ê¸° (2/2)","categories":"ë¸”ë¡œê·¸ AWS Git","author":"ë§‰ê±¸ë¦¬ì— ê°ìì „","emoji":"ğŸ’»"},"fields":{"slug":"/aws-003-github-action-with-codedeploy-2/"}},"site":{"siteMetadata":{"siteUrl":"https://koreanckh.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/aws-002-github-action-with-codedeploy/","nextSlug":"/aws-001/","prevSlug":"/aws-003-github-action-with-codedeploy-2/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}