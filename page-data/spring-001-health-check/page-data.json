{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/spring-001-health-check/",
    "result": {"data":{"cur":{"id":"9cee16bf-ac0b-5cee-98c6-e913ee182924","html":"<h1 id=\"0-개요\" style=\"position:relative;\"><a href=\"#0-%EA%B0%9C%EC%9A%94\" aria-label=\"0 개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0. 개요</h1>\n<p>서비스가 많아지는데 일일이 헬스체크할 필요가 생겨났는데 어떻게 만드는게 좋을지 검색하던 참에 Spring Actuator라는 것을 알게 되었고, 추가적으로 uptime-kuma라는 오픈소스가 제공되고 있기에 이를 사용해서 헬스체크 서버를 만들어 보기로 하였다.<br>\n<del>이런 고마운 천재들…</del></p>\n<h1 id=\"1-spring-actuator-설정\" style=\"position:relative;\"><a href=\"#1-spring-actuator-%EC%84%A4%EC%A0%95\" aria-label=\"1 spring actuator 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Spring Actuator 설정</h1>\n<blockquote>\n<p><a href=\"https://incheol-jung.gitbook.io/docs/study/srping-in-action-5th/chap-16\">https://incheol-jung.gitbook.io/docs/study/srping-in-action-5th/chap-16</a>.</p>\n</blockquote>\n<p>처음에는 서버가 정상적으로 잘 작동하고 있는지 요소들을 확인하여 기능별로 헬스체크용 api를 만들어두고 Client 서버에서 호출할 생각이었는데, Spring Actuator 의존성을 추가해주기만 하면 이런 기능들과 관련한 endpoint를 자동으로 제공해준다고 한다!!</p>\n<h2 id=\"1-spring-actuator-의존성-추가\" style=\"position:relative;\"><a href=\"#1-spring-actuator-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%B6%94%EA%B0%80\" aria-label=\"1 spring actuator 의존성 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) Spring Actuator 의존성 추가</h2>\n<p>maven 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-boot-starter-actuator<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>gradle 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">dependencies {\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;, version: &#39;2.6.11&#39;\n}</code></pre></div>\n<h2 id=\"2-spring-actuator에서-제공하는-endpoint\" style=\"position:relative;\"><a href=\"#2-spring-actuator%EC%97%90%EC%84%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EB%8A%94-endpoint\" aria-label=\"2 spring actuator에서 제공하는 endpoint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) Spring Actuator에서 제공하는 Endpoint</h2>\n<table>\n<thead>\n<tr>\n<th>HTTP 메서드</th>\n<th>Endpoint</th>\n<th>설명</th>\n<th>디폴트 활성화</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>GET</td>\n<td>/auditevents</td>\n<td>호출된 audit event 리포트를 생성한다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/beans</td>\n<td>애플리케이션의 모든 Spring Bean의 전체 목록을 표시.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/conditions</td>\n<td>성공 또는 실패했던 자동-구성 조건의 정보에 관한 정보.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/configprop</td>\n<td><code class=\"language-text\">@ConfigurationProperties</code> 정보</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET,POST,DELETE</td>\n<td>/env</td>\n<td>스프링 애플리케이션에 사용할 수 있는 모든 속성 근원과 이 근원들의 속성을 알려준다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/env/{toMatch}</td>\n<td>특정 환경 속성의 값을 알려준다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/health</td>\n<td>애플리케이션의 상태 정보를 표시. 필수적으로 사용하는 엔드포인트.</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/heapdump</td>\n<td>힙(heap) 덤프를 다운로드한다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/httptrace</td>\n<td>가장 퇴근의 100개 요청에 대한 추적 기록을 생성한다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/info</td>\n<td>개발자가 정의한 애플리케이션에 관란 정보를 반환한다.</td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/loggers</td>\n<td>애플리케이션의 패키지 리스트(각 패키지의 로깅 레벨이 포함된)를 생성한다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET,POST</td>\n<td>/loggers/{name}</td>\n<td>지정된 로거의 로깅 레벨(구성된 로깅 레벨과 유효 로깅 레벨 모두)을 반환한다.<br/>유효 로깅 레벨은 HTTP POST 요청으로 설정될 수 있다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/mappings</td>\n<td>모든 HTTP 매핑과 이 매핑들을 처리하는 핸들러 메서드들의 내역을 제공한다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/metrics</td>\n<td>모든 메트릭 리스트를 반환한다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/metrics/{name}</td>\n<td>지정된 메트릭의 값을 반환한다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/scheduledtasks</td>\n<td>스케줄링된 모든 태스크의 내역을 제공한다.</td>\n<td>No</td>\n</tr>\n<tr>\n<td>GET</td>\n<td>/threaddump</td>\n<td>모든 애플리케이션 스레드의 내역을 반환한다.</td>\n<td>No</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"3-endpoint-활성화-관리\" style=\"position:relative;\"><a href=\"#3-endpoint-%ED%99%9C%EC%84%B1%ED%99%94-%EA%B4%80%EB%A6%AC\" aria-label=\"3 endpoint 활성화 관리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) Endpoint 활성화 관리</h2>\n<p>(2) 에서와 같이 여러가지 Endpoint를 제공하고 있지만 별도의 설정이 없으면 <code class=\"language-text\">/health</code>와 <code class=\"language-text\">/info</code> 2개만 디폴트로 활성화가 되어있다.<br>\n보안과 관련하여 민감한 정보가 포함될 수 있으므로 Spring Security나 보안정책을 잘 세워서 관리하도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">management</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">endpoints</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">web</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">exposure</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">include</span><span class=\"token punctuation\">:</span> health<span class=\"token punctuation\">,</span>info<span class=\"token punctuation\">,</span>conditions\n        <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span> env<span class=\"token punctuation\">,</span>beans<span class=\"token punctuation\">,</span>threaddump<span class=\"token punctuation\">,</span>heapdump</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">management.endpoints.web.exposure.include<span class=\"token operator\">=</span>health,info,beans,conditions\nmanagement.endpoints.web.exposure.exclude<span class=\"token operator\">=</span>env,beans,threaddump,heapdump</code></pre></div>\n<p>설정은 기존에 사용하던 <code class=\"language-text\">yaml</code>이나 <code class=\"language-text\">properties</code>파일에 추가해주면 된다.<br>\n활성화 할 기능들은 <code class=\"language-text\">include</code>에, 비활성화 기능들은 <code class=\"language-text\">exclude</code>에 추가해주도록 하자.</p>\n<h2 id=\"4-endpoint-호출해보기\" style=\"position:relative;\"><a href=\"#4-endpoint-%ED%98%B8%EC%B6%9C%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"4 endpoint 호출해보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(4) Endpoint 호출해보기</h2>\n<p>지금까지의 설정을 마쳤다면 <a href=\"http://localhost:8080/actuator/info\">http://localhost:8080/actuator/info</a> 등의 방법으로 호출하면 정상적으로 호출이 될 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">management.endpoints.web.base-path<span class=\"token operator\">=</span>/checker</code></pre></div>\n<p>Spring Actuator에서는 <code class=\"language-text\">/actuator</code>를 기본 경로로 제공하고 있는데,<br>\n다른 기본 경로를 사용하고 싶다면 위와 같이 설정을 해주고 서버 재기동을 하면 <code class=\"language-text\">~/checker/{endpoint}</code>로 커스텀 가능하다.</p>\n<h2 id=\"5-application-health\" style=\"position:relative;\"><a href=\"#5-application-health\" aria-label=\"5 application health permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(5) Application Health</h2>\n<h3 id=\"1-status\" style=\"position:relative;\"><a href=\"#1-status\" aria-label=\"1 status permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) Status</h3>\n<table>\n<thead>\n<tr>\n<th>Status</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>UP</td>\n<td>시스템이 작동 중이고 접근 가능하다.</td>\n</tr>\n<tr>\n<td>DOWN</td>\n<td>시스템이 작동하지 않거나 접근할 수 없다.</td>\n</tr>\n<tr>\n<td>UNKOWN</td>\n<td>시스템의 상태가 분명하지 않다.</td>\n</tr>\n<tr>\n<td>OUT_OF</td>\n<td>시스템에 접근할 수 있지만, 현재는 사용할 수 없다.</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"2-상세-health-정보\" style=\"position:relative;\"><a href=\"#2-%EC%83%81%EC%84%B8-health-%EC%A0%95%EB%B3%B4\" aria-label=\"2 상세 health 정보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) 상세 health 정보.</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"status\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"UP\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">/health</code>에 대해 별도의 설정을 해주지 않는다면 <code class=\"language-text\">management.endpoint.health.show-details</code>의 디폴트 값이 <code class=\"language-text\">never</code>로 설정 되어 있기 때문에 DB나 다른 의존성이 추가된 정보에 관한 정보가 제공되지 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\">### 디폴트(상세X)</span>\n<span class=\"token comment\"># management.endpoint.health.show-details=never</span>\n\n<span class=\"token comment\">### 상세</span>\nmanagement.endpoint.health.show-details<span class=\"token operator\">=</span>always</code></pre></div>\n<p><code class=\"language-text\">always</code>로 값을 변경해주면 DB등 아래와 같이 상세 정보까지 조회 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"status\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"UP\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"components\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"db\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"status\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"UP\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"details\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"database\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"MariaDB\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"validationQuery\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"isValid()\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"diskSpace\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"status\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"UP\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"details\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"total\"</span><span class=\"token operator\">:</span> <span class=\"token number\">994662584320</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"free\"</span><span class=\"token operator\">:</span> <span class=\"token number\">833322774528</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"threshold\"</span><span class=\"token operator\">:</span> <span class=\"token number\">10485760</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"exists\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"mail\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"status\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"UP\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"details\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"location\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"smtp.gmail.com:587\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ping\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"status\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"UP\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>물론 위와 같이 상세 정보에서도 보안 또는 정책상 제거해야 하는 정보가 있으면 그 부분만 비확성화도 가능하다.<br>\n아마 <code class=\"language-text\">management.health.</code>이후로 자동 완성되어 확인 가능할 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># management.health.{제외할 의존성 이름}.enabled=false</span>\nmanagement.health.mail.enabled<span class=\"token operator\">=</span>false</code></pre></div>\n<p>이렇게 하면 mail에 대한 health 정보는 받아볼 수 없다.</p>\n<blockquote>\n<ul>\n<li>참고 : <a href=\"https://forward.nhn.com/2021/hands-on-labs/java.spring-boot-actuator/06-health.html\">https://forward.nhn.com/2021/hands-on-labs/java.spring-boot-actuator/06-health.html</a></li>\n</ul>\n</blockquote>\n<h2 id=\"6-그-밖의-custom-endpoint-설정\" style=\"position:relative;\"><a href=\"#6-%EA%B7%B8-%EB%B0%96%EC%9D%98-custom-endpoint-%EC%84%A4%EC%A0%95\" aria-label=\"6 그 밖의 custom endpoint 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(6) 그 밖의 Custom Endpoint 설정</h2>\n<p>추후 보완 예정..</p>\n<h1 id=\"2-uptime-kuma-소개\" style=\"position:relative;\"><a href=\"#2-uptime-kuma-%EC%86%8C%EA%B0%9C\" aria-label=\"2 uptime kuma 소개 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Uptime Kuma 소개</h1>\n<h2 id=\"1-간략한-소개\" style=\"position:relative;\"><a href=\"#1-%EA%B0%84%EB%9E%B5%ED%95%9C-%EC%86%8C%EA%B0%9C\" aria-label=\"1 간략한 소개 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) 간략한 소개</h2>\n<p>Spring Actuator로 서버 상태를 알 수 있는 간단한 api를 만들었다면, 이를 주기적으로 호출해서 서버의 상태가 정상인지 확인하는 서버를 만들어야할 것이다.<br>\n이런 귀찮은 것들을 한번에 해결해줄 강력한 라이브러리가 있어서 짧게 소개해본다.</p>\n<ul>\n<li>한글지원</li>\n<li>간편한 설정</li>\n<li>다양한 알람 기능</li>\n<li>vue 기반의 시각화 페이지</li>\n</ul>\n<p>등등..</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABW0lEQVQoz3WSW2/TQBBGo6AoxvZ67xc7vjQJbVqoUICXPnJ5byX+/385yOu2BAQPn2a+WenM7syu9g+fkCahww7lO6Rtc76/vacd9xibqHVAmAtlH5E25fhWBtqPJ7oPN6xMP1CrkPUCs77l4dt3zufPHFOfIcrO5wFpAo2LKG0pKomUlrvYUxQNm0KwKhtPpQKlDDkKkzJ8voUKO3QacGkgtBOhm3BxwHUjaW6kAs62nId3KNtSKseq1pFLVSo+N3AIFSmFZVsbNtJTmMi61rypDYVJbKRjLQxr5dnqyFaYBbhAFi1+GYEeRuQ0EV3H193ht/rDn3534Ed/ZLTtBVD/BdSBdH8ifnnPdLXncbjmabrhcbzOehoX/1L7eXXi6P4BrJ6ByrdU0tOYRKUDxfxk6Snnrc5e+dfaVi57ENL9H5i6Ps9RuQ6hY84r6XKD+btUyr/WlugpG8svjcPJabC1RDkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"spring-001-1\"\n        title=\"spring-001-1\"\n        src=\"/static/c94b7e60f1f09fde722642b02202af7b/37523/spring-001-1.png\"\n        srcset=\"/static/c94b7e60f1f09fde722642b02202af7b/e9ff0/spring-001-1.png 180w,\n/static/c94b7e60f1f09fde722642b02202af7b/f21e7/spring-001-1.png 360w,\n/static/c94b7e60f1f09fde722642b02202af7b/37523/spring-001-1.png 720w,\n/static/c94b7e60f1f09fde722642b02202af7b/302a4/spring-001-1.png 1080w,\n/static/c94b7e60f1f09fde722642b02202af7b/07a9c/spring-001-1.png 1440w,\n/static/c94b7e60f1f09fde722642b02202af7b/62365/spring-001-1.png 6002w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTElEQVQoz42SyU7DMBRFs2vj2Y6nDIV0QEiIDUX8AWv+/28u8nNog0QrFkexY/vkPr8071+fOH68QdkEG0YYP0C5DBcn9A9HxGGG9j10t1DGLl/nXYa2GfF0wHR+QTPtD+h2M6TLJLJxgosjrO/pA1wHtMqjVR09t8IhPT/B9CNa2YHpQLSiQ8sdGqkCmArgJoGbCGETyaVLNG6lB1NXttxhOr8i7A+QJtOeSj3TcBPoBV8WipgtYhNGiDJfUlAS6RH3R5g8UQC+nCkIG1dCs5ZGSJugl/tcJywIHSlpKX8Nk90docsIw1xT2lzTmLpepBtmsOE/WJq30t1P6PMjpSzyKqwIE6kh2yL6j5DpCJ0GpNMJXMffJetwEZJUOhJRyepWyTpChR522C1d7wlB3c90DevEl+Q3m1KEeYAeR7rosqf8j1x7gv2Fqmvfjs/xBsGgsPQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"spring-001-2\"\n        title=\"spring-001-2\"\n        src=\"/static/ebf140a42d7ad918f80f44fe7982874b/37523/spring-001-2.png\"\n        srcset=\"/static/ebf140a42d7ad918f80f44fe7982874b/e9ff0/spring-001-2.png 180w,\n/static/ebf140a42d7ad918f80f44fe7982874b/f21e7/spring-001-2.png 360w,\n/static/ebf140a42d7ad918f80f44fe7982874b/37523/spring-001-2.png 720w,\n/static/ebf140a42d7ad918f80f44fe7982874b/302a4/spring-001-2.png 1080w,\n/static/ebf140a42d7ad918f80f44fe7982874b/07a9c/spring-001-2.png 1440w,\n/static/ebf140a42d7ad918f80f44fe7982874b/76585/spring-001-2.png 6016w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 438px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 181.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAABYlAAAWJQFJUiTwAAAF3ElEQVRIx32W21LbVhSGhQ+c0xCwZGxjaUuyLGMDxoDBZ1uWDwIMgRIg4RhIQpseMlPSSRtmOtPOdJLMdHKRXiRtk04z7UXv+g59gF73Afogf0dbPgLJxTfLtqzfa2n9ay8zilvAnKxio1DADa0IPRpFaXoapVgd8/V0FHqTKejRdiZRjk0hLgdAhjkwb778GA83V/DZ1joeHe3hdG8bR4s6dvUM9vRsk/1SDvvlixyU89gpZvDk7g5+e/QJmJffPsbDw1t4sLeNs/v3cHb/Lr46OcIXB7fw9ckRTm/v4vRwB/fWaziqVXG8YrRRxfGqgcOlEr7//CO8+u4MzOsXz3F6cgcPjg8p+2sruL2xRrmztYGjzXUcb67jcH0V+2s1et2KFgfrNezUDDw9e4S3L38E8+ybM9y+uYXdGxu4d3iAg+0tHO/uYnN1BdV8Dst6kVIr6ZeyUi7BKOTx+MGn+OmHp2D6B66ACASLVQPbW9tYW72OxPwC5mZmMTMdw2xs5v1MxzA/OwdCRPT2DYCxObrBuj3IF3QYSzXMxRMgYgCSrEIKXES+BCU4Do9PgN3ZC8Zmd8DFeZDMFFA2lqGEIhCpWMiKcqgNFUQKQhCVDkQ5CK9fhKO7D0xPTy+4UR8SmTyMpRXktBKS6TwKxTIKWhm5vA6tWEE2V0Q6oyEai4MXAiBikGIJqmBH/bDZnWAcDidcbi8VLFWXIKtheP0EfkGmXzYjTwJNzM9olpLSzNYU5Dy8Jch02TDCjVJBrVyFGpmiKGq4efN5LDGFRiooBeH2C7B394LpstkxwnkQiyeglQ0UKwYy+aJVGglYImInQltsZujjYXP2WILD7CjiySz0yiIi0Rl4edHKTmw1wBJTOqDXiJlh/Rk6uuuCrlGkc0XoZQNT03NQxifAN0SIdRM5h9BACEAUg2DdY7A5esAwjA3DLjdSWQ2pbAGz8STCkzH4idVJoSkYaCI0Y0uQ68iQHcV8Mov4QhpqeKrTZ+QijXJppu22aRecm0/BWFxBIpmlv0ouKbOz3ACdKNrxgGp12dlWciKVRdWoYXYu0fRXe1OE9ga1Z2oKKircvNDeFDcW0jkUywYqxjImo7OWiWWVQtoQ5LptSOsHzQxZT1vJI6yHPkNT0JyWYGgC3jECgZpYbQpTpHM+rNvGakqjZHYUC6kcnd90poBcTsdCIkMPA4EoFw6DditRwQtddrlph/WSQQ8BNTSJoDrRtM27mkLp8GE3mJ7ePjp6pqCmV+lJY3rQxCq5NWLkEi6W3GWVPJ/KIaeVIasR+vDFQAikQePZXUZjlhsl09OG9SCVLaJYMpAvVjAzl6QNkJQwJGUcoklgHIQSgiCHwMsqxRQV5RC4VpcdGGHdSGcy0Io6KpUKNE2DElQhSTJk2VwHLUTJPCclCESke4QQAlGUwI2OWacNw3ThGscjXdlCYekWxIksSCRD4cPpJkI9+sdT8I8nwYcs/KEEvcb6ZOuAtTEMPpDyiJ/8hfidP+Fd/x1jH/4BrvYruNobsMuvwS79co6fm7gWX4FdeYthRYOtizGXlBMuzotUvgKtUkNp8TqSuRIkdQqiOgkxOAGiRCAELiNMEZUJsJ766Dm7e6lt0jkN5eoSKos1TERnoIYnIQfHISkhuj6JHOyk3mUzmo5gzZ3SMLaZYSav0zWaKZSofRKZAu2u2WmRdvbd1iFyqDXLZlNYt4/uZWP5OrJ5vflFyy4heoPQto9FqU79vbnDuVaGDlwbcSNb0LG8uo5kJk9FpLqYZXCrZLG+sLx+FW6fCh+vQuADELwyWJevtaSGhjmEJ2KIzszTqTD/Bfh4GT5eajJmRr+EMb+ExBRBaZ5gNkxAImFEtAV4VQVd9m7rr0jv4BD6PmDRMziM/qssBobcGBjiOhi8xqH7ihsSz+KfZz3475UTf5/ZkXu+h5v/PkHuxQEYxgHGbnfC2TtARSkDV9HzHvoGr2I+NIDyTD+iYj+GAjx4PYrhIA+bzYn/AcLoO30R/C0WAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"spring-001-3\"\n        title=\"spring-001-3\"\n        src=\"/static/d0707da50a917317f75cd9f6c56c1b82/50e4b/spring-001-3.png\"\n        srcset=\"/static/d0707da50a917317f75cd9f6c56c1b82/e9ff0/spring-001-3.png 180w,\n/static/d0707da50a917317f75cd9f6c56c1b82/f21e7/spring-001-3.png 360w,\n/static/d0707da50a917317f75cd9f6c56c1b82/50e4b/spring-001-3.png 438w\"\n        sizes=\"(max-width: 438px) 100vw, 438px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"2-설치\" style=\"position:relative;\"><a href=\"#2-%EC%84%A4%EC%B9%98\" aria-label=\"2 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) 설치</h2>\n<blockquote>\n<p><a href=\"https://github.com/louislam/uptime-kuma\">https://github.com/louislam/uptime-kuma</a></p>\n</blockquote>\n<h2 id=\"3-사용법\" style=\"position:relative;\"><a href=\"#3-%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"3 사용법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) 사용법</h2>\n<p>설치부터 시동법 까지 <code class=\"language-text\">README.md</code>에 자세하게 나와있어서 간단하게 사용하는 방법이 소개되어 있다.<br>\n현재 상황에서는 api 헬스체크후 이상시 Slack으로 알람을 보내는 것이 목적이기에 간편하게 설정할 수 있었다.<br>\n<del>하지만 node와 친하지 않아서 정확한 작동 방법은 좀 더 스터디를 해봐야할 것 같다..</del></p>","excerpt":"0. 개요 서비스가 많아지는데 일일이 헬스체크할 필요가 생겨났는데 어떻게 만드는게 좋을지 검색하던 참에 Spring Actuator라는 것을 알게 되었고, 추가적으로 uptime-kuma라는 오픈소스가 제공되고 있기에 이를 사용해서 헬스체크 서버를 만들어 보기로 하였다. 이런 고마운 천재들… 1. Spring Actuator 설정 https://incheol-jung.gitbook.io/docs/study/srping-in-action-5th/chap-16. 처음에는 서버가 정상적으로 잘 작동하고 있는지 요소들을 확인하여 기능별로 헬스체크용 api를 만들어두고 Client 서버에서 호출할 생각이었는데, Spring Actuator 의존성을 추가해주기만 하면 이런 기능들과 관련한 endpoint를 자동으로 제공해준다고 한다!! (1) Spring Actuator 의존성 추가 maven 추가 gradle 추가 (2) Spring Actuator에서 제공하는 Endpoint HTTP 메…","frontmatter":{"date":"September 01, 2022","title":"Spring Actuator + uptime-kuma로 헬스 체크 만들기","categories":"Spring","author":"막걸리에 감자전","emoji":"💻"},"fields":{"slug":"/spring-001-health-check/"}},"next":{"id":"4f5c68fc-54d5-53fd-9182-280ae2ead198","html":"<h1 id=\"4-iam-권한-설정\" style=\"position:relative;\"><a href=\"#4-iam-%EA%B6%8C%ED%95%9C-%EC%84%A4%EC%A0%95\" aria-label=\"4 iam 권한 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. IAM 권한 설정</h1>\n<h2 id=\"1-ec2-적용\" style=\"position:relative;\"><a href=\"#1-ec2-%EC%A0%81%EC%9A%A9\" aria-label=\"1 ec2 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) EC2 적용</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABw0lEQVQoz32RvW7UQBRG/QoJG8FjAEpWkRA1NSlASxGCBCJpKHkTOhKJisArUGxEEVLQ0kCB9s+7Xq+92J6xPWOPD5rZdbQUxNLRvZqfo2+uvRcnbzl69YaXr0+4++iQne5TOvcPuHXvMbe7T9jp9uhssL3XY2u3x/Zuj629Z3T2D7nz4Ijt/ec8PDjGi+Ml/mSCVgX9HwtO+wPOv/l8upq6en45cXy8nPD5yufD1xGnF0POLkacuTrkfX/Iuy8Dvv8M8KSUGGNYfQZdCGgqaPS6bmC0OwPNGttXTJc5v2bS7XuFzKiryunyomQwnjLy58zCmOk8+gff1mBBMA8dsyBkOBrzezDCn4UIKfGEyNBaO2FjDEmW4y8yokSilEJrhVZr1r1aY+8tl0vC+RwpBEVR4CVJ4pqVsUGWFUFSEvwpXW/XmhuwI4uiyImdMM/z64T2sig0flyQSOVmexNWKIQgjmMnzFuhjd8K01wTpiW5qqnN/5O1wjRNXULrcQnLskTInCiziWrSTBInAqVK7J49tElVVdR1fV2zLMOOzfZO2DSG2hh03binj8dj9/fSTJCkKe0LrNzS/owWK7brUq5G9xfY+dUZGuCyggAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-1.png\"\n        title=\"aws-003-1.png\"\n        src=\"/static/44b280904a85415aef483f359b043e73/37523/aws-003-1.png\"\n        srcset=\"/static/44b280904a85415aef483f359b043e73/e9ff0/aws-003-1.png 180w,\n/static/44b280904a85415aef483f359b043e73/f21e7/aws-003-1.png 360w,\n/static/44b280904a85415aef483f359b043e73/37523/aws-003-1.png 720w,\n/static/44b280904a85415aef483f359b043e73/302a4/aws-003-1.png 1080w,\n/static/44b280904a85415aef483f359b043e73/07a9c/aws-003-1.png 1440w,\n/static/44b280904a85415aef483f359b043e73/46c38/aws-003-1.png 3448w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABcUlEQVQoz5WQPUscURSG5w9Es4ViKWlTJCwsIYV29kaCGywkdilSrG0U7PwXaaLNYgL7G6xSBwyoKaKyoCbZdXZm7vfMI/fqjuNn8IWHw5l7z3vPO9HU3Ecmp9/zbKrJxKsmY415ai/f8PTFLLX6W0brTUbq7xgpa5UmtcYC468XeVJf4PnMElHn+yFrX/dZ7+yx0t7lU3uXtW+/WN3ap7Xxk9bGDssVWpeU/ZeL+uHzDza3D4i0ElgtKazCK9cpVgywcgAYHqsoSVKU1hhrcXnB0fE/fndP+HOWkmqHkAqlDcY6rHWkmbjojcW6PMy4/KpGWZaR5zlFkVMAZ8JyGgt6wjJQDikVSZLg71lrEUIEpJRhzqsoipLIHw4/evnBOI7DkDEmVN9rrUuD+3TL0NPr9VBSBgOlVNiqusH/uG4IxEka4nijoVn1wWqam3HvjOz/V7/fL7dzzoUzH3dItX8w8s0X79rgFpd3droZfxPDOQk40o28ZjlLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-2.png\"\n        title=\"aws-003-2.png\"\n        src=\"/static/b8884b80e5b5a20b1624671ec21a8613/37523/aws-003-2.png\"\n        srcset=\"/static/b8884b80e5b5a20b1624671ec21a8613/e9ff0/aws-003-2.png 180w,\n/static/b8884b80e5b5a20b1624671ec21a8613/f21e7/aws-003-2.png 360w,\n/static/b8884b80e5b5a20b1624671ec21a8613/37523/aws-003-2.png 720w,\n/static/b8884b80e5b5a20b1624671ec21a8613/302a4/aws-003-2.png 1080w,\n/static/b8884b80e5b5a20b1624671ec21a8613/07a9c/aws-003-2.png 1440w,\n/static/b8884b80e5b5a20b1624671ec21a8613/59733/aws-003-2.png 3442w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABvklEQVQoz52RzYrUQBSF8wTaIrPSjeBe7EHRhegjCIP0KAoDsxNU3Akz4NLHkNGNPTvfpZVWlw62k85fJalKp5LOp/faaW03ggUnt3JJfTnnVnDpzj6Xbz/gws0RW9dHnB/uMLhyl3NXdxhsjzgz3OXscFdrr/59sH2frRuPGFx7yMVbe9zbe0JwOJ7y6v0XDsZTXrybcnD8icPjzzx/+5GnRx949uYfOprw+PWEl+MJqSkJlsslbduiq/OwrPm/1dE2DUFRWnzT0nUg+++nIc5Vqtp7at/gffNH9Szq38qLgjhJKa3De08gD3Epy1rL15MT5vO5KgxDoijC5DnGGPI8J01TkiTRvki+mc1mZFmmSQM1K/aApmmIo4hvYUKWl8RxrAdEAuolwKIoqKpKtVgscM7p+UBgawGVNcwig3ENlXN6UJwIRGDyE3kvy5K6rhUoVaSR1w4VCq40zBND7jyVswoUmEhGIrHEyd+SvoxuDexWQHEYCtB63AoorsSdzEkkvY1kXacwqcHGxa8cnsaGrKw3gP3cJGo/u/5CeynwF72j02anQHFobI2zVm+2B8rsZC+9Pn4fVfc/I/8AZNcYUD7ls40AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-3.png\"\n        title=\"aws-003-3.png\"\n        src=\"/static/7cd9855156e44ca75781e475d3a5a572/37523/aws-003-3.png\"\n        srcset=\"/static/7cd9855156e44ca75781e475d3a5a572/e9ff0/aws-003-3.png 180w,\n/static/7cd9855156e44ca75781e475d3a5a572/f21e7/aws-003-3.png 360w,\n/static/7cd9855156e44ca75781e475d3a5a572/37523/aws-003-3.png 720w,\n/static/7cd9855156e44ca75781e475d3a5a572/302a4/aws-003-3.png 1080w,\n/static/7cd9855156e44ca75781e475d3a5a572/07a9c/aws-003-3.png 1440w,\n/static/7cd9855156e44ca75781e475d3a5a572/46c38/aws-003-3.png 3448w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABh0lEQVQoz5WRz2oUQRCH5wl0RXLSi+BdXA3oQfQNPETYqIiCR0XBmxjx6GNIxIOLXnyXFSN79aAhm5me6e7p/590y4TsRhJt+FFdXVVfdVdXF2495uLNe5y7PmFtfcLZ8QajS7c5c3mD0ZUJp8abnB5vFjto8EdX77J27QGj9fucv/GIOw+fUm1Nd3j7Zc6r6Q4vP35n69Oc15/nvPjwjWfbX3n+/gRtz3jybsab6Yy6lVQxRkIIlBUMRjYEIyE5/m9FgvdUnbZYF4gJGtGy2K8x1mGdx4d4rMJgY8KYzHFUUin6vi892k5RC0luIo3H+ETv4hFpFzE+QkqklEqtc66oys5w2GtN27YorUsTay0x/imKKxpqjgDToaD3Hp1hWmOMKbMd4n/TYWDOzapWu0ipUEqV/RA7CZpz8wWytwSUUrLYb9irBU3XlCf/izIsXyJzloB5fl3XsbsQ/Pj1E6nlQYG1ZgVkluwBsAw8xgJsmgYhBEpp9uoa0YnyORl4nPrelNdlzm/H7R/gLBeUWAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-4.png\"\n        title=\"aws-003-4.png\"\n        src=\"/static/cc8525fb1091b00f0cc3dc2fd3f36da7/37523/aws-003-4.png\"\n        srcset=\"/static/cc8525fb1091b00f0cc3dc2fd3f36da7/e9ff0/aws-003-4.png 180w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/f21e7/aws-003-4.png 360w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/37523/aws-003-4.png 720w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/302a4/aws-003-4.png 1080w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/07a9c/aws-003-4.png 1440w,\n/static/cc8525fb1091b00f0cc3dc2fd3f36da7/f24c5/aws-003-4.png 3454w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<blockquote>\n<p>AWSCodeDeployFullAccess<br>\nAmazonS3FullAccess</p>\n</blockquote>\n<p>두 가지 권한을 체크하여 역할을 만든다.<br>\n역할 이름은 EC2에 권한 설정을 해줘야 하기 때문에 기억해두어야 한다.</p>\n<p>위에서 만든 IAM 역할을 EC2 서버에 적용해주자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACl0lEQVQ4y4WTy44cNRSG6yGABVEEghGJEBEJiQSRskuWLHhJJGARQiZzEZMAyguwiJKMsoDMdFf3dFXZLtt1cV0/dNydWYGw9MvH9jn/uTq5fe9b7t7/jjvfPODTGzf58uZt9r64wyeff8XH12/xwdXPeP/KHu9d2ePq3g0+unaLD69//Z9IfnzynIe/HPPo5wOenDzl4OCQ7394yE+Pjnh89IzDX3/n8OSPiP3j39g/fsb+0dOIx7t9K5/EPRlncFXLzHZVTUNhHVU/0kzbu2kamabd4X9WUpaWolDRYOg7lrnmzXLD3+kFi1xjqxqlNYVSZIXCWEfbBnxVcZFlWOdx3rPJcqxzJPI4zdv4+r6PiiEEKu/oQ8s0jjvfM2tTR4zjRNV6Un2GrzzWWrRSjMNA8s7wHaHxNS70rJUhKx1hmgnjRDfOXPie8zJQhgkTKhYupaxblKtINzl1P5A0VuPVelurceA0zXmxzHl5vub1KuNcWbJCo63HNh2vVoqXacHp+oI/F39xmma8Wqx58XbJ0tYkTRuwroqEwzCglKK0JaW1mLKMENk5H9OvKo8pDaa0WOswoifv3mO9J6mqGm0MzFMkFLmq66ggkJrKLm+y5CwOpAH/hqS0jjzPYR62EWrNJi9iROXOs+gIkUxC07b0Qx/r3e3QhhAbKXJS1w1d12+bMgzY0uCyZeyykGptUNpE70Ioht57mkbsung3juMlEmtLQuMvuyyGRZ6RK03ox2i0SFdx9sRAzgLJRgZ+nqaIS8K2bZHhHoYxKklUEpHUVhxIBulqHQdbaqtjkxzjMNKGDlP3VN12Vud5JjFGY00RI5ALSUmcSCpyFq95oVimK0LXkecFb5dnnG3OYu3kU0zTfEn4D2Or+pf6/aGlAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-5.png\"\n        title=\"aws-003-5.png\"\n        src=\"/static/51b26860af8ff93e2f0db22d96ef3fdb/37523/aws-003-5.png\"\n        srcset=\"/static/51b26860af8ff93e2f0db22d96ef3fdb/e9ff0/aws-003-5.png 180w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/f21e7/aws-003-5.png 360w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/37523/aws-003-5.png 720w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/302a4/aws-003-5.png 1080w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/07a9c/aws-003-5.png 1440w,\n/static/51b26860af8ff93e2f0db22d96ef3fdb/ade5e/aws-003-5.png 2188w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACEUlEQVQoz5XS3WrUQBjG8VxFUWmhxX642GKlVjwWwTvR9chWLFZbS+2pB96H4Im3omB70rqu2266m4/5yiSTZP+S2W0VEdGBH8+EJO88gQTLdx/QWr/PrXsPmWutMbu0wkJrlbkbq8y1bnP95hoz88tMTc8zNb3gc2Z+hdmlVa4t3uHKwjpXF38Knu++48Wbt+xtH7C1s8/W/mv2dvdoP9ulvfHKe/R0m8cbL2lvjq+fbO547T8IYIS2ObooEdaRFSWhzDG5w7oSm1uElBSuoK5rqrqiqibq31QlQeEcqRB0Oh2Ojo741jsjyyy5tVgvJ8/zyf7vmjmBcw6pFOH5OWEYcj6MEFJRliXONdw/a+YEzUvaGGKhiE1Bs+oRVHXtP/F/ltKawJWl3wyGEanSFK4kzwuKYuzXBk3ri+ZNVp6jdM4fPh7onG942g/p9k7RmUVqM05jUFnmUyjt94lUDKOYKEnpp4ZunDFUdtLQEDQnJUpxEqV0E8nAOqKiJMrLcXqVFxcVYeYQJiOzFpNZdBphZUwuY6QU44GiGdjr8+W4w0BqYmMxZU1W4ZlqhClHZNUI5Sr//DBVDI8/IT5sk348IHm/hegeThpKxeH3kM8nPY7PE+/rIOVkkPo8k5a+Lgh1QU9aYiGRUiKEQCYRMo2RyRBx2bC5OZGkKYkQ45xIpbx08VzzizSE1kilkT4VPwDvVk9NlGFIDwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-6.png\"\n        title=\"aws-003-6.png\"\n        src=\"/static/e3ef26732a2d341525759672d8642aa0/37523/aws-003-6.png\"\n        srcset=\"/static/e3ef26732a2d341525759672d8642aa0/e9ff0/aws-003-6.png 180w,\n/static/e3ef26732a2d341525759672d8642aa0/f21e7/aws-003-6.png 360w,\n/static/e3ef26732a2d341525759672d8642aa0/37523/aws-003-6.png 720w,\n/static/e3ef26732a2d341525759672d8642aa0/302a4/aws-003-6.png 1080w,\n/static/e3ef26732a2d341525759672d8642aa0/07a9c/aws-003-6.png 1440w,\n/static/e3ef26732a2d341525759672d8642aa0/80cfc/aws-003-6.png 1844w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"2-codedeploy-적용\" style=\"position:relative;\"><a href=\"#2-codedeploy-%EC%A0%81%EC%9A%A9\" aria-label=\"2 codedeploy 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) CodeDeploy 적용</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABlUlEQVQoz42Sz27UMBDG8y60RfTUI6qAPVTi1EMrFZBAIHHjSXmJqkLbhm1JdrNJ/Ce2Y/uHnGyWqCqIkT6NZzzzeeZLsjeX3zh5+4WTsyuOF+95sXjH0ekFh6cXPH99xcGrDzz7B44WHzk++8zB4hMvz7+S3W8U13nF8lfNbSm5WW358VBzs6qG810puS3EiHKHeVwIlkXLshCsypqMGLBGQ/Ak21ZrqnWJki3EMfe/FnxP1nuPc44QIj5E8o0gX7eU0tGYgFIKpTVadzjX0zQNUsoh9t4TYhx6kzfGkMU4BsknU52laiVCG4zzaK2p65qu2xGEMPiEqWfy1tqRcLJ0buoaKQRdp7HWDK+aHdm8dqqPs2H2hPOXWiFIMvgQcP240nD3N8xI/0yYEoOqgaYsENUGI1qsFERjwBriY5iO6OzTK0+J4HrKPKepNlil9vDGEKwdCEY4QsppuSccP8pMw8lvi4Jy9ZOubTFCDJNO03qtCaaDNJk14Pv92sl69wThWPBYJ8bfY5Jmdjf1fr9uKGrFb/6PMVw60B51AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-7.png\"\n        title=\"aws-003-7.png\"\n        src=\"/static/3fbde0076926e3fe21e5c35b2c0d2b10/37523/aws-003-7.png\"\n        srcset=\"/static/3fbde0076926e3fe21e5c35b2c0d2b10/e9ff0/aws-003-7.png 180w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/f21e7/aws-003-7.png 360w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/37523/aws-003-7.png 720w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/302a4/aws-003-7.png 1080w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/07a9c/aws-003-7.png 1440w,\n/static/3fbde0076926e3fe21e5c35b2c0d2b10/de720/aws-003-7.png 3452w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n이번에는 CodeDeploy에 적용할 IAM을 만들어야 하는데, AWS에서 서비스하는 CodeDeploy를 이용할 것이기 때문에 검색하여 선택해주고, <u>다음화면에서는 권한을 따로 체크해주지 않아도 된다.</u></p>\n<h1 id=\"5-codedeploy-생성\" style=\"position:relative;\"><a href=\"#5-codedeploy-%EC%83%9D%EC%84%B1\" aria-label=\"5 codedeploy 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. CodeDeploy 생성.</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABEElEQVQoz4WQzUoDQRCE9yXVwKqYaIKLWeNFRHw3z76At5wExYO7yUzP9PzsxpJu1x8k6kAx09VUz0cXs/MbnNaXqOoFjmY19k/m2D2YYqc8RjmpMJrMMZrUqr3x11s1nqOcLnB4do2yukI5vUDhPcM7BzmOAx4en7EiD/IMDgExRoQY9U45qcfM8KLAcOzhlneg+1swexQxJRhL6DcbDa3XBtYSuq5T5eGWnrEWOedPpZQgQJkacPOEEAIK5xwckRKKQc6jNRbOe62FSAilbtr2vR48oSQixNyDU6e9InoCrV7wCqixNgaWSGl+aqs/eJKTVRQhRKXq+15//ghu0389JZQhsiMMhN9Jfgv/NfANron61RJCEZ4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-8.png\"\n        title=\"aws-003-8.png\"\n        src=\"/static/e140f9005c04e854ba3e05d6db245cae/37523/aws-003-8.png\"\n        srcset=\"/static/e140f9005c04e854ba3e05d6db245cae/e9ff0/aws-003-8.png 180w,\n/static/e140f9005c04e854ba3e05d6db245cae/f21e7/aws-003-8.png 360w,\n/static/e140f9005c04e854ba3e05d6db245cae/37523/aws-003-8.png 720w,\n/static/e140f9005c04e854ba3e05d6db245cae/302a4/aws-003-8.png 1080w,\n/static/e140f9005c04e854ba3e05d6db245cae/07a9c/aws-003-8.png 1440w,\n/static/e140f9005c04e854ba3e05d6db245cae/59733/aws-003-8.png 3442w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACKklEQVQ4y42Sy04UQRSG5wFwIZioZFQuXgJKItG9ib6WiYqJiMSgEBA3uvAN1ER2JrDBGAEXKjEmXmaAoZnpS3VPd1V313ymupsZCQE8yZdzSdVfp05VaejaTS6M3uDK9VuUB0foHbhI3+AQp/uH6e0fpnx+hJNnL9HVU+ZYzxm6usscPzVA78AwJ85dprtvlO6+q21Kk9OvmHr2kunHc8zMPWdidpb52TnGJme4/WCKu+NPuDM+xb2HTxl7NM39yZnMZ/nEfkoAUZywE0SEUmEJiRvGNOMUV2p0SxNGIZGMgBZHWUnFMX8qFZaXP/BpZZX19XVW19bY2NxECI+G4+C4LrbrZnHDPgTHoRTHMZ7vU9vezqg3Gvi+T7MZ5oTGNzvxAYRhSBAEuaDwfarVKpVKFcuyiCJJmqYkSfLfmPVRFOWCRtn1PGzbzsSMtVpHz8us2cWYUioX9IOgmION7bhIqdBak6aaVBekaU47122htmAcFx02m/h+kLVsTO8KFN7kFG/8b+3QDre2amxsbB54NTN0KeWeWh5o0GnmlZIdQcfzsOr1zJtcGMxrhyHblsW7hQUWl5aymshmLtA6xfSui+5li84r//z1my9fv2E7DqZmupFK7UfKbFZmz47t4n1ewF18gft+HnfldUdwp15nq1bL5qmKjXtRBflB5m86no/34yPe6lu8lTd435cpxUmCJ0R2TYOJzRc6CrNO+AIRxQjVQigQUcJf+e7vnbU0zewAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"aws-003-9.png\"\n        title=\"aws-003-9.png\"\n        src=\"/static/2c62575b6ba98a84ebff7b1e8807087d/37523/aws-003-9.png\"\n        srcset=\"/static/2c62575b6ba98a84ebff7b1e8807087d/e9ff0/aws-003-9.png 180w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/f21e7/aws-003-9.png 360w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/37523/aws-003-9.png 720w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/302a4/aws-003-9.png 1080w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/07a9c/aws-003-9.png 1440w,\n/static/2c62575b6ba98a84ebff7b1e8807087d/913b9/aws-003-9.png 1822w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>EC2 서버에 배포해줄 CodeDeploy를 만들어주자.</p>\n<h1 id=\"6-codedeploy-용-iam-만들기\" style=\"position:relative;\"><a href=\"#6-codedeploy-%EC%9A%A9-iam-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"6 codedeploy 용 iam 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. CodeDeploy 용 IAM 만들기</h1>\n<blockquote>\n<p>IAM은 일종의 AWS 접속용 계정을 만들어주는 것으로 보면 될듯..</p>\n</blockquote>","frontmatter":{"date":"August 30, 2022","title":"Github Action + AWS EC2 CodeDeploy + S3를 이용하여 자동 배포 하기 (2/2)","categories":"블로그 AWS Git","author":"막걸리에 감자전","emoji":"💻"},"fields":{"slug":"/aws-003-github-action-with-codedeploy-2/"}},"prev":{"id":"65029930-28ff-53a3-a1d1-f44ce3017125","html":"<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> a<span class=\"token punctuation\">.</span>table_name       <span class=\"token keyword\">AS</span> <span class=\"token string\">'table_name'</span><span class=\"token punctuation\">,</span>\n       b<span class=\"token punctuation\">.</span>table_comment    <span class=\"token keyword\">AS</span> <span class=\"token string\">'table_comment'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>ordinal_position <span class=\"token keyword\">AS</span> <span class=\"token string\">'no'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_name      <span class=\"token keyword\">AS</span> <span class=\"token string\">'column_name'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_comment   <span class=\"token keyword\">AS</span> <span class=\"token string\">'column_comment'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_type      <span class=\"token keyword\">AS</span> <span class=\"token string\">'type'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_key       <span class=\"token keyword\">AS</span> <span class=\"token string\">'KEY'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>is_nullable      <span class=\"token keyword\">AS</span> <span class=\"token string\">'NULL'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>extra            <span class=\"token keyword\">AS</span> <span class=\"token string\">'auto'</span><span class=\"token punctuation\">,</span>\n       a<span class=\"token punctuation\">.</span>column_default      <span class=\"token string\">'default'</span>\n<span class=\"token keyword\">FROM</span> information_schema<span class=\"token punctuation\">.</span><span class=\"token keyword\">columns</span> a\n         <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> information_schema<span class=\"token punctuation\">.</span><span class=\"token keyword\">tables</span> b <span class=\"token keyword\">ON</span> a<span class=\"token punctuation\">.</span>table_name <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>table_name <span class=\"token operator\">AND</span> a<span class=\"token punctuation\">.</span>table_catalog <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>table_catalog <span class=\"token operator\">AND</span> a<span class=\"token punctuation\">.</span>table_schema <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>table_schema\n<span class=\"token keyword\">WHERE</span> a<span class=\"token punctuation\">.</span>table_schema <span class=\"token operator\">=</span> <span class=\"token string\">'eco'</span>\n<span class=\"token comment\">-- AND TABLE_NAME IN ('테이블명','테이블명','테이블명')</span>\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> a<span class=\"token punctuation\">.</span>table_name<span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">.</span>ordinal_position</code></pre></div>\n<p>INFORMATION_SCHEMA는 MySQL에서 제공하는 DB 관련 정보들을 저장하고 있는 데이터베이스이다.<br>\n스키마 별로 조회도 가능하고, 특정 테이블에 대해서만도 조회가 가능하다.</p>\n<ul>\n<li>참고</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">use</span> information_schema<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">show</span> <span class=\"token keyword\">TABLES</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이와 같이 information_schema 데이터베이스의 테이블들을 조회해보면 많은 정보들이 들어있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ALL_PLUGINS\nAPPLICABLE_ROLES\nCHARACTER_SETS\nCHECK_CONSTRAINTS\nCOLLATIONS\nCOLLATION_CHARACTER_SET_APPLICABILITY\nCOLUMNS\nCOLUMN_PRIVILEGES\nENABLED_ROLES\nENGINES\nEVENTS\nFILES\nGLOBAL_STATUS\nGLOBAL_VARIABLES\nKEYWORDS\nKEY_CACHES\nKEY_COLUMN_USAGE\nOPTIMIZER_TRACE\nPARAMETERS\nPARTITIONS\nPLUGINS\nPROCESSLIST\nPROFILING\nREFERENTIAL_CONSTRAINTS\nROUTINES\nSCHEMATA\nSCHEMA_PRIVILEGES\nSESSION_STATUS\nSESSION_VARIABLES\nSTATISTICS\nSQL_FUNCTIONS\nSYSTEM_VARIABLES\nTABLES\nTABLESPACES\nTABLE_CONSTRAINTS\nTABLE_PRIVILEGES\nTRIGGERS\nUSER_PRIVILEGES\nVIEWS\nCLIENT_STATISTICS\nINDEX_STATISTICS\nINNODB_SYS_DATAFILES\nGEOMETRY_COLUMNS\nINNODB_SYS_TABLESTATS\nSPATIAL_REF_SYS\nINNODB_BUFFER_PAGE\nINNODB_TRX\nINNODB_CMP_PER_INDEX\nINNODB_METRICS\nINNODB_LOCK_WAITS\nINNODB_CMP\nTHREAD_POOL_WAITS\nINNODB_CMP_RESET\nTHREAD_POOL_QUEUES\nTABLE_STATISTICS\nINNODB_SYS_FIELDS\nINNODB_BUFFER_PAGE_LRU\nINNODB_LOCKS\nINNODB_FT_INDEX_TABLE\nINNODB_CMPMEM\nTHREAD_POOL_GROUPS\nINNODB_CMP_PER_INDEX_RESET\nINNODB_SYS_FOREIGN_COLS\nINNODB_FT_INDEX_CACHE\nINNODB_BUFFER_POOL_STATS\nINNODB_FT_BEING_DELETED\nINNODB_SYS_FOREIGN\nINNODB_CMPMEM_RESET\nINNODB_FT_DEFAULT_STOPWORD\nINNODB_SYS_TABLES\nINNODB_SYS_COLUMNS\nINNODB_FT_CONFIG\nUSER_STATISTICS\nINNODB_SYS_TABLESPACES\nINNODB_SYS_VIRTUAL\nINNODB_SYS_INDEXES\nINNODB_SYS_SEMAPHORE_WAITS\nINNODB_MUTEXES\nuser_variables\nINNODB_TABLESPACES_ENCRYPTION\nINNODB_FT_DELETED\nTHREAD_POOL_STATS</code></pre></div>\n<p>나중에 다른 필요한 정보가 있을때 그때 다시 알아보도록 하자…</p>","frontmatter":{"date":"September 14, 2022","title":"MySQL 스카마 내 전체 테이블 목록 및 컬럼 정보 조회.","categories":"Sql Mysql","author":"막걸리에 감자전","emoji":"💻"},"fields":{"slug":"/sql-001/"}},"site":{"siteMetadata":{"siteUrl":"https://koreanckh.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/spring-001-health-check/","nextSlug":"/aws-003-github-action-with-codedeploy-2/","prevSlug":"/sql-001/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}